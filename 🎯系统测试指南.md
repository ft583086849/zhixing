# 🎯 知行财库系统测试指南

## 🎉 系统初始化完成！

### 🔐 可用账户信息
```
管理员账户: admin / admin123
一级销售代码: TEST001, TEST002  
二级销售代码: SEC001
```

## 📱 完整测试地址

### 🏠 基础域名
**https://zhixing-seven.vercel.app**

### 1. 🔧 管理员系统测试
| 功能 | 地址 | 账号信息 |
|------|------|----------|
| 管理员登录 | `/admin` | admin / admin123 |
| 数据概览 | `/admin/dashboard` | 登录后访问 |
| 订单管理 | `/admin/orders` | 查看所有订单 |
| 销售管理 | `/admin/sales` | 管理分销人员 |
| 客户管理 | `/admin/customers` | 查看客户信息 |
| 支付配置 | `/admin/payment-config` | 支付方式设置 |

### 2. 🏪 销售注册测试
| 销售类型 | 地址 | 说明 |
|----------|------|------|
| 一级分销注册 | `/sales` | 注册新的一级分销 |
| 一级分销页面 | `/primary-sales` | 一级分销专用页面 |
| 二级分销注册 | `/secondary-sales` | 注册二级分销 |
| 关联二级注册 | `/secondary-sales?primary_code=TEST001` | 关联到TEST001 |

### 3. 🛒 购买页面测试

#### ✅ 正确的购买链接（有销售代码）
```
https://zhixing-seven.vercel.app/purchase?sales_code=TEST001
https://zhixing-seven.vercel.app/purchase?sales_code=TEST002
https://zhixing-seven.vercel.app/purchase?sales_code=SEC001
```

#### ❌ 无销售代码链接（显示友好提示）
```
https://zhixing-seven.vercel.app/purchase
```
*显示: "下单拥挤，请等待" - 这是用户体验优化*

### 4. 💰 对账系统测试
| 功能 | 地址 | 说明 |
|------|------|------|
| 销售对账 | `/reconciliation?sales_code=TEST001` | 查看对账信息 |
| 一级销售结算 | `/primary-sales-settlement?sales_code=TEST001` | 一级分销结算 |

## 🧪 完整业务流程测试

### 流程1: 管理员管理
1. 访问 `/admin` 
2. 登录 `admin / admin123`
3. 查看系统概览和管理各项数据

### 流程2: 一级分销注册
1. 访问 `/sales`
2. 填写注册信息
3. 获得推广链接和销售代码

### 流程3: 二级分销注册
1. 访问 `/secondary-sales?primary_code=TEST001`
2. 关联到一级分销TEST001
3. 获得自己的销售代码

### 流程4: 用户购买
1. 访问 `/purchase?sales_code=TEST001`
2. 选择购买套餐和支付方式
3. 上传付款截图
4. 提交订单

### 流程5: 销售对账
1. 访问 `/reconciliation?sales_code=TEST001`
2. 查看销售业绩和佣金
3. 查看下级分销情况

## 🔍 问题排查

### 问题1: 购买页面显示"下单拥挤，请等待"
**原因**: 没有提供 `sales_code` 参数
**解决**: 使用正确的购买链接，例如:
```
https://zhixing-seven.vercel.app/purchase?sales_code=TEST001
```

### 问题2: 管理员登录失败
**原因**: 管理员账户可能不存在
**解决**: 已创建账户 `admin / admin123`

### 问题3: 销售代码无效
**原因**: 使用了不存在的销售代码
**解决**: 使用测试代码 `TEST001`, `TEST002`, `SEC001`

## 📊 测试数据概览
- ✅ 管理员账户: 1个
- ✅ 一级销售: 4个 (包含2个新建的测试账户)
- ✅ 二级销售: 4个 (包含1个新建的测试账户)
- ✅ 数据库表: 完整创建
- ✅ RLS策略: 正常工作

## 🎯 下一步测试建议
1. 先用管理员账户登录查看系统状态
2. 测试有销售代码的购买链接
3. 测试销售注册流程
4. 验证订单创建和佣金计算