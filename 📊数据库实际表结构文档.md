# ğŸ“Š çŸ¥è¡Œè´¢åº“æ•°æ®åº“å®é™…è¡¨ç»“æ„æ–‡æ¡£

> ç”Ÿæˆæ—¶é—´ï¼š2025-01-13
> æ•°æ®åº“ç±»å‹ï¼šSupabase (PostgreSQL)
> æ•°æ®åº“URLï¼šhttps://itvmeamoqthfqtkpubdv.supabase.co

---

## ğŸ“‹ è¡¨ç»“æ„è¯¦æƒ…

### 1. ordersè¡¨ - è®¢å•è¡¨
**è®°å½•æ•°**: 102æ¡

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|----------|------|--------|
| id | integer | ä¸»é”®ï¼Œè‡ªå¢ID | 48 |
| order_number | string | è®¢å•å· | "ORD1754889551236" |
| customer_name | string | å®¢æˆ·å§“å | "qq4073969" |
| customer_phone | null/string | å®¢æˆ·ç”µè¯ | NULL |
| customer_email | null/string | å®¢æˆ·é‚®ç®± | NULL |
| customer_wechat | string | å®¢æˆ·å¾®ä¿¡ | "qq4073969" |
| tradingview_username | string | TradingViewç”¨æˆ·å | "obsess" |
| amount | decimal | è®¢å•é‡‘é¢ | 0 |
| actual_payment_amount | decimal | å®é™…æ”¯ä»˜é‡‘é¢ | 0 |
| alipay_amount | null/decimal | æ”¯ä»˜å®é‡‘é¢ | NULL |
| crypto_amount | null/decimal | åŠ å¯†è´§å¸é‡‘é¢ | NULL |
| status | string | è®¢å•çŠ¶æ€ | "confirmed_config" |
| payment_status | string | æ”¯ä»˜çŠ¶æ€ | "pending" |
| payment_method | string | æ”¯ä»˜æ–¹å¼ | "crypto" |
| payment_time | timestamp | æ”¯ä»˜æ—¶é—´ | "2025-08-11T13:19:11" |
| duration | string | è®¢é˜…æ—¶é•¿ | "7days" |
| purchase_type | string | è´­ä¹°ç±»å‹ | "immediate" |
| effective_time | null/timestamp | ç”Ÿæ•ˆæ—¶é—´ | NULL |
| expiry_time | null/timestamp | åˆ°æœŸæ—¶é—´ | NULL |
| sales_code | null/string | é”€å”®ä»£ç  | NULL |
| link_code | null/string | é“¾æ¥ä»£ç  | NULL |
| sales_type | null/string | é”€å”®ç±»å‹ | NULL |
| primary_sales_id | null/integer | ä¸€çº§é”€å”®ID | NULL |
| secondary_sales_id | null/integer | äºŒçº§é”€å”®ID | NULL |
| commission_rate | decimal | ä½£é‡‘ç‡ | 0 |
| commission_amount | decimal | ä½£é‡‘é‡‘é¢ | 0 |
| screenshot_path | null/string | æˆªå›¾è·¯å¾„ | NULL |
| screenshot_data | null/text | æˆªå›¾æ•°æ®(base64) | NULL |
| config_confirmed | boolean | é…ç½®ç¡®è®¤ | true |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ | "2025-08-11T05:19:11.236+00:00" |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ | "2025-08-11T09:17:14.755+00:00" |
| submit_time | timestamp | æäº¤æ—¶é—´ | "2025-08-11T05:19:11.632073" |

---

### 2. secondary_salesè¡¨ - é”€å”®ä¿¡æ¯è¡¨ï¼ˆåŸsalesè¡¨ï¼‰
**è®°å½•æ•°**: æœªçŸ¥ï¼ˆå®é™…å­˜åœ¨æ•°æ®ï¼‰

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|----------|------|--------|
| id | integer | ä¸»é”®ï¼Œè‡ªå¢ID | 3 |
| sales_code | string | é”€å”®ä»£ç  | "SEC17547252976848697" |
| wechat_name | string | å¾®ä¿¡åç§° | "fl261247" |
| name | null/string | å§“åï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| phone | null/string | ç”µè¯ï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| email | null/string | é‚®ç®±ï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| payment_method | string | æ”¯ä»˜æ–¹å¼ | "crypto" |
| payment_address | string | æ”¶æ¬¾åœ°å€ | "TH3NngKNzAcia6MdBVjyLFkg75FKrdyYvk" |
| chain_name | string | é“¾å | "TRC20" |
| alipay_account | null/string | æ”¯ä»˜å®è´¦å·ï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| alipay_surname | null/string | æ”¯ä»˜å®å§“æ°ï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| line_address_code | null/string | çº¿ä¸Šåœ°å€ç ï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| line_name | null/string | çº¿åï¼ˆå·²åºŸå¼ƒï¼‰ | NULL |
| sales_type | string | é”€å”®ç±»å‹ | "secondary" |
| primary_sales_id | integer | ä¸Šçº§é”€å”®ID | 4 |
| primary_registration_code | null/string | æ³¨å†Œç  | NULL |
| commission_rate | decimal | ä½£é‡‘ç‡(0.25=25%) | 0.25 |
| paid_commission | decimal | å·²ä»˜ä½£é‡‘ | 397 |
| last_commission_paid_at | timestamp | æœ€åä»˜ä½£æ—¶é—´ | "2025-08-10T07:56:10.087" |
| status | string | çŠ¶æ€ | "active" |
| removed_by | null/integer | ç§»é™¤è€…ID | NULL |
| removed_at | null/timestamp | ç§»é™¤æ—¶é—´ | NULL |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ | "2025-08-09T07:41:37.684+00:00" |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ | "2025-08-09T08:17:21.747+00:00" |

---

### 3. adminsè¡¨ - ç®¡ç†å‘˜è¡¨
**è®°å½•æ•°**: 2æ¡

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|----------|------|--------|
| id | integer | ä¸»é”®ï¼Œè‡ªå¢ID | 10 |
| username | string | ç”¨æˆ·å | "çŸ¥è¡Œ" |
| password_hash | string | å¯†ç å“ˆå¸Œ | "Zhixing Universal Trading Signal" |
| role | string | è§’è‰² | "admin" |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ | "2025-08-06T13:50:16.88681+00:00" |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ | "2025-08-06T13:50:16.88681+00:00" |

---

### 4. payment_configè¡¨ - æ”¯ä»˜é…ç½®è¡¨
**è®°å½•æ•°**: 4æ¡

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|----------|------|--------|
| id | integer | ä¸»é”®ï¼Œè‡ªå¢ID | 1 |
| alipay_account | string | æ”¯ä»˜å®è´¦å·ï¼ˆå·²åºŸå¼ƒï¼‰ | "752304285@qq.com" |
| alipay_name | string | æ”¯ä»˜å®å§“åï¼ˆå·²åºŸå¼ƒï¼‰ | "æ¢" |
| alipay_qr_code | text | æ”¯ä»˜å®äºŒç»´ç (base64) | "data:image/jpeg;base64,..." |
| crypto_chain_name | string | åŠ å¯†è´§å¸é“¾å | "TRC10/TRC20" |
| crypto_address | string | åŠ å¯†è´§å¸åœ°å€ | "TDnNfU9GYcDbzFqf8LUNzBuTsaDbCh5LTo" |
| crypto_qr_code | text | åŠ å¯†è´§å¸äºŒç»´ç (base64) | "data:image/jpeg;base64,..." |
| crypto2_chain_name | string | ç¬¬äºŒé“¾å | "BSC" |
| crypto2_address | string | ç¬¬äºŒåœ°å€ | "0xAE25E29d3baCD91B0fFd0807859531419a85375a" |
| crypto2_qr_code | null/text | ç¬¬äºŒäºŒç»´ç (base64) | NULL |
| is_active | boolean | æ˜¯å¦æ¿€æ´» | false |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ | "2025-08-07T04:04:36.572405+00:00" |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ | "2025-08-08T12:19:59.436+00:00" |

---

### 5. profit_distributionè¡¨ - æ”¶ç›Šåˆ†é…è¡¨
**è®°å½•æ•°**: 2æ¡

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|----------|------|--------|
| id | uuid | ä¸»é”®ï¼ŒUUID | "9249ea4f-9862-4977-b71a-e49ec638ee2a" |
| public_ratio | decimal | å…¬æˆ·å æ¯” | 40 |
| marketing_ratio | decimal | è¥é”€è´¹ç”¨å æ¯” | 10 |
| dividend_ratio | decimal | åˆ†çº¢å æ¯” | 15 |
| development_ratio | decimal | å¼€å‘è´¹ç”¨å æ¯” | 15 |
| zhixing_ratio | decimal | çŸ¥è¡Œå æ¯” | 35 |
| zijun_ratio | decimal | å­ä¿Šå æ¯” | 25 |
| ratio | decimal | æ€»æ¯”ä¾‹ | 100 |
| allocated_amount | decimal | å·²åˆ†é…é‡‘é¢ | 0 |
| category | string | ç±»åˆ« | "default" |
| is_active | boolean | æ˜¯å¦æ¿€æ´» | true |
| created_by | string | åˆ›å»ºè€… | "system" |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ | "2025-08-08T17:39:44.729243+00:00" |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ | "2025-08-10T07:19:15.034788+00:00" |

---

## ğŸ“ é‡è¦è¯´æ˜

### 1. è¡¨çš„å˜åŒ–
- **salesè¡¨å·²ä¸å­˜åœ¨**ï¼šç³»ç»Ÿæ”¹ä¸ºä½¿ç”¨`secondary_sales`è¡¨å­˜å‚¨æ‰€æœ‰é”€å”®ä¿¡æ¯
- **lifetime_limitè¡¨å·²ä¸å­˜åœ¨**ï¼šæ°¸ä¹…æˆæƒåŠŸèƒ½å·²åœç”¨ï¼Œæ”¹ä¸ºå¹´è´¹åˆ¶

### 2. æ•°æ®ç±»å‹è¯´æ˜
- **timestamp**: PostgreSQLçš„æ—¶é—´æˆ³ï¼Œæ ¼å¼ä¸ºISO 8601ï¼ˆå¦‚ï¼š2025-08-11T05:19:11.236+00:00ï¼‰
- **decimal**: åè¿›åˆ¶æ•°ï¼Œç”¨äºé‡‘é¢å’Œç™¾åˆ†æ¯”
- **integer**: æ•´æ•°ï¼Œç”¨äºIDå’Œè®¡æ•°
- **string**: å­—ç¬¦ä¸²ï¼Œé•¿åº¦æ ¹æ®å®é™…éœ€æ±‚
- **text**: é•¿æ–‡æœ¬ï¼Œç”¨äºbase64å›¾ç‰‡æ•°æ®
- **uuid**: é€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼Œç”¨äºprofit_distributionè¡¨çš„ä¸»é”®
- **boolean**: å¸ƒå°”å€¼ï¼Œtrue/false

### 3. å…³é”®å­—æ®µè¯´æ˜

#### ä½£é‡‘ç‡å­—æ®µ
- å­˜å‚¨æ ¼å¼ï¼šå°æ•°ï¼ˆ0.25è¡¨ç¤º25%ï¼‰
- åœ¨`secondary_sales`è¡¨ä¸­ï¼š`commission_rate`
- åœ¨`orders`è¡¨ä¸­ï¼š`commission_rate`

#### æ”¯ä»˜æ–¹å¼
- ç›®å‰åªæ”¯æŒï¼š`crypto`ï¼ˆåŠ å¯†è´§å¸ï¼‰
- å†å²æ•°æ®å¯èƒ½åŒ…å«ï¼š`alipay`ï¼ˆå·²åºŸå¼ƒï¼‰

#### è®¢å•çŠ¶æ€ï¼ˆstatuså­—æ®µï¼‰
- `pending_payment` - å¾…ä»˜æ¬¾
- `confirmed_payment` - å·²ä»˜æ¬¾
- `pending_config` - å¾…é…ç½®
- `confirmed_config` - å·²é…ç½®
- `active` - å·²æ¿€æ´»
- `rejected` - å·²æ‹’ç»

#### é”€å”®ç±»å‹ï¼ˆsales_typeå­—æ®µï¼‰
- `primary` - ä¸€çº§é”€å”®
- `secondary` - äºŒçº§é”€å”®
- `independent` - ç‹¬ç«‹é”€å”®

### 4. è¡¨å…³ç³»
- `orders.primary_sales_id` â†’ `secondary_sales.id`ï¼ˆä¸€çº§é”€å”®ï¼‰
- `orders.secondary_sales_id` â†’ `secondary_sales.id`ï¼ˆäºŒçº§é”€å”®ï¼‰
- `secondary_sales.primary_sales_id` â†’ `secondary_sales.id`ï¼ˆä¸Šçº§å…³ç³»ï¼‰

### 5. æ•°æ®ç»Ÿè®¡ï¼ˆæˆªè‡³æŸ¥è¯¢æ—¶ï¼‰
- è®¢å•æ€»æ•°ï¼š102æ¡
- ç®¡ç†å‘˜æ•°ï¼š2ä¸ª
- æ”¯ä»˜é…ç½®ï¼š4æ¡
- æ”¶ç›Šåˆ†é…æ–¹æ¡ˆï¼š2ä¸ª

---

## ğŸ” æ•°æ®åº“è®¿é—®ä¿¡æ¯

- **æ•°æ®åº“ç±»å‹**: PostgreSQL (Supabaseæ‰˜ç®¡)
- **è¿æ¥æ–¹å¼**: Supabase Client SDK
- **è®¤è¯æ–¹å¼**: JWT Token
- **APIç«¯ç‚¹**: https://itvmeamoqthfqtkpubdv.supabase.co
- **å®æ—¶è®¢é˜…**: æ”¯æŒï¼ˆé€šè¿‡Supabase Realtimeï¼‰

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2025-01-13*
*æ•°æ®æ¥æºï¼šç”Ÿäº§ç¯å¢ƒå®æ—¶æŸ¥è¯¢*