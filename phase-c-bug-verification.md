# Phase C: Bug修复与页面优化验证清单

## 用户发现的Bug修复状态

### ✅ Bug 1: 产品名称错误
- **问题**: 显示"推币策略"应为"信号策略"
- **修复**: ProductSelectorDynamic组件使用动态配置
- **验证**: 检查页面tab标签显示"信号策略"

### ✅ Bug 2: 试用期不一致  
- **问题**: UI显示3天，后端检查7天
- **修复**: 全面替换硬编码检查为`ProductConfigAPI.isFreeOrder()`
- **验证**: 检查免费试用显示"3天免费"

### ✅ Bug 3: 产品状态管理
- **问题**: 推币系统和套餐组合应显示"即将上线"
- **修复**: ProductConfigAPI支持status字段，ProductSelectorDynamic渲染禁用状态
- **验证**: 检查tab显示"即将上线"标签且不可点击

### ✅ Bug 4: 硬编码价格逻辑
- **问题**: 所有价格和时长检查都是硬编码
- **修复**: 
  - 引入ProductConfigAPI统一管理
  - isFreeOrder()替换所有'7天'检查
  - 动态价格获取替换固定价格
- **验证**: 检查价格显示正确

## 页面验证要点

### 产品选择器验证
1. **Tab标签检查**:
   - [ ] "信号策略" (不是"推币策略")
   - [ ] "推币系统" + "NEW"标签 + "即将上线"
   - [ ] "套餐组合" + "推荐"标签 + "即将上线"

2. **产品内容检查**:
   - [ ] 信号策略: 显示价格选项(3天免费, 1个月, 3个月等)
   - [ ] 推币系统: 显示"该产品即将上线，敬请期待..."
   - [ ] 套餐组合: 显示"该产品即将上线，敬请期待..."

3. **价格显示检查**:
   - [ ] 3天免费: $0 (绿色显示"免费")
   - [ ] 1个月: $288
   - [ ] 3个月: $588
   - [ ] 6个月: $1088
   - [ ] 1年: $1888

### 表单行为验证
1. **免费订单逻辑**:
   - [ ] 选择3天免费时，付款相关字段隐藏
   - [ ] 提交按钮正常启用
   - [ ] 购买方式自动设为"即时购买"

2. **付费订单逻辑**:  
   - [ ] 选择付费时长时，显示付款字段
   - [ ] 收款信息正确显示
   - [ ] 提交按钮禁用逻辑正确

3. **Discord字段**:
   - [ ] 选择推币系统时显示Discord输入框(虽然目前是即将上线)
   - [ ] 选择套餐组合时显示Discord输入框(虽然目前是即将上线)

## 技术验证

### API调用验证
- [ ] ProductConfigAPI.getGroupedProductConfigs()正常返回
- [ ] ProductConfigAPI.isFreeOrder()正确判断免费订单
- [ ] ProductConfigAPI.checkTrialEligibility()试用资格检查
- [ ] fallback机制正常工作(数据库无数据时使用hardcoded)

### 错误处理验证
- [ ] 网络错误时显示加载失败提示
- [ ] 组件有loading状态显示
- [ ] 重试机制可用

## 用户体验验证

### 界面美观度
- [ ] 产品选择器样式正常
- [ ] "即将上线"状态有合适的视觉提示
- [ ] loading spinner正确显示
- [ ] 错误状态有友好提示

### 交互体验
- [ ] tab切换流畅
- [ ] 禁用的tab不可点击但有视觉反馈
- [ ] 价格选择响应及时
- [ ] 表单验证提示清晰

---

**验证方法**:
1. 在Chrome无痕模式打开: `http://localhost:3000/purchase?sales_code=PRI17554350234757516`
2. 逐项检查上述验证点
3. 尝试不同的产品和价格组合
4. 测试表单提交流程

**通过标准**: 所有验证点都为✅，用户体验流畅无异常