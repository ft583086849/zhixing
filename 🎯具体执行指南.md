# ğŸ¯ Supabase SQLæ‰§è¡ŒæŒ‡å—

## ğŸ“‹ æ“ä½œæ­¥éª¤

### 1ï¸âƒ£ ç‚¹å‡» "Public Insert Permission for Admins" è„šæœ¬
**æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼ˆè¦†ç›–ç®¡ç†å‘˜è¡¨ç­–ç•¥ï¼‰ï¼š**
```sql
-- åˆ é™¤æ—§çš„ç®¡ç†å‘˜ç­–ç•¥
DROP POLICY IF EXISTS "Allow public insert admins" ON admins;
DROP POLICY IF EXISTS "Allow insert admins" ON admins;

-- åˆ›å»ºæ–°çš„ç®¡ç†å‘˜ç­–ç•¥
CREATE POLICY "Enable insert for all users" ON admins
FOR INSERT 
TO anon, authenticated
WITH CHECK (true);
```

---

### 2ï¸âƒ£ ç‚¹å‡» "Public Order Creation Policy" è„šæœ¬  
**æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼ˆè¦†ç›–è®¢å•è¡¨ç­–ç•¥ï¼‰ï¼š**
```sql
-- åˆ é™¤æ—§çš„è®¢å•ç­–ç•¥
DROP POLICY IF EXISTS "Allow public insert orders" ON orders;
DROP POLICY IF EXISTS "Allow anonymous create orders" ON orders;
DROP POLICY IF EXISTS "Allow public update orders" ON orders;

-- åˆ›å»ºæ–°çš„è®¢å•ç­–ç•¥
CREATE POLICY "Enable insert for all users" ON orders
FOR INSERT
TO anon, authenticated  
WITH CHECK (true);

CREATE POLICY "Enable update for all users" ON orders
FOR UPDATE
TO anon, authenticated
USING (true)
WITH CHECK (true);
```

---

## ğŸ¯ æ‰§è¡Œé¡ºåº

1. **å…ˆæ‰§è¡Œç®¡ç†å‘˜è¡¨ä¿®å¤** â†’ Public Insert Permission for Admins
2. **å†æ‰§è¡Œè®¢å•è¡¨ä¿®å¤** â†’ Public Order Creation Policy

## âœ… æ‰§è¡Œå®Œæˆå

å›å¤ï¼š"**æœ€ç»ˆç­–ç•¥ä¿®å¤å®Œæˆ**"ï¼Œæˆ‘å°†ç«‹å³æµ‹è¯•ç®¡ç†å‘˜ç™»å½•å’Œè®¢å•åˆ›å»ºåŠŸèƒ½ï¼

---

## ğŸ“ è¯´æ˜
- è¿™äº›ä»£ç ä¼š**è¦†ç›–**ç°æœ‰çš„é™åˆ¶æ€§ç­–ç•¥
- **ä¿ç•™**ä½ ç°æœ‰çš„é”€å”®æ•°æ®ï¼ˆprimary_sales, secondary_salesï¼‰
- åªä¿®å¤**ç®¡ç†å‘˜è¡¨**å’Œ**è®¢å•è¡¨**çš„æƒé™é—®é¢˜