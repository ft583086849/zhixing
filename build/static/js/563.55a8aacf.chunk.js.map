{"version":3,"file":"static/js/563.55a8aacf.chunk.js","mappings":"+bAKA,MAAM,MAAEA,EAAK,KAAEC,GAASC,EAAAA,E,cCiCxB,MAAQF,MAAK,EAAEC,KAAK,GAAIC,EAAAA,GAClB,OAAEC,GAAWC,EAAAA,EA4rBnB,EA1rBqBC,KAAO,IAADC,EACzB,MAAQC,SAAUC,IAAiBC,EAAAA,EAAAA,MAC5BC,IAAgBC,EAAAA,EAAAA,MACjBC,GAAWC,EAAAA,EAAAA,MAGXN,EAAWG,EAAaI,IAAI,eAAiBN,GAC7C,aAAEO,EAAcC,QAASC,EAAcC,MAAOC,IAAeC,EAAAA,EAAAA,IAAaC,GAAUA,EAAMC,QACxFN,QAASO,EAAcL,MAAOM,EAAU,aAAEC,IAAiBL,EAAAA,EAAAA,IAAaC,GAAUA,EAAMK,SAExFC,OAAQC,EAAeZ,QAASa,EAAeX,MAAOY,IAAgBV,EAAAA,EAAAA,IAAaC,GAAUA,EAAMO,gBACpGG,GAAQC,EAAAA,EAAKC,WAEbC,EAAkBC,IAAuBC,EAAAA,EAAAA,UAAS,KAClDC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,KAC5CG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,cAC1CK,EAAeC,IAAoBN,EAAAA,EAAAA,UAAS,OAC5CO,GAAUC,KAAeR,EAAAA,EAAAA,UAAS,KAClCS,GAAqBC,KAA0BV,EAAAA,EAAAA,WAAS,IACxDW,GAAiBC,KAAsBZ,EAAAA,EAAAA,UAAS,KAChDa,GAAcC,KAAmBd,EAAAA,EAAAA,UAAS,KAC1Ce,GAAcC,KAAmBhB,EAAAA,EAAAA,UAAS,IAG3CiB,GAAkB,CACtB,CAAEC,MAAO,QAASC,MAAO,sBAAQC,MAAO,GACxC,CAAEF,MAAO,SAAUC,MAAO,gBAAOC,MAAO,KACxC,CAAEF,MAAO,UAAWC,MAAO,gBAAOC,MAAO,KACzC,CAAEF,MAAO,UAAWC,MAAO,gBAAOC,MAAO,KACzC,CAAEF,MAAO,QAASC,MAAO,UAAMC,MAAO,QAIxCC,EAAAA,EAAAA,WAAU,KACJlD,IACFK,GAAS8C,EAAAA,EAAAA,GAAenD,IACxBK,GAAS+C,EAAAA,EAAAA,QAEJ,KACL/C,GAASgD,EAAAA,EAAAA,SAEV,CAAChD,EAAUL,IAGd,MAAMsD,GAAmBA,KACvB,MAAMC,EAAST,GAAgBU,KAAKC,GAAOA,EAAIV,QAAUpB,GACzD,OAAO4B,EAASA,EAAON,MAAQ,GAI3BS,GAAsBA,KAC1B,IAAK/B,EAAkB,OAAO,KAE9B,IAAIgC,EACJ,GAAqB,cAAjB3B,EAEF2B,EAAWC,UACN,IAAqB,YAAjB5B,IAA8BE,EAIvC,OAAO,KAFPyB,EAAWzB,CAGb,CAEA,OAAQP,GACN,IAAK,QACH,OAAOgC,EAASE,IAAI,EAAG,OAAOA,IAAI,EAAG,OACvC,IAAK,SACH,OAAOF,EAASE,IAAI,EAAG,SAASA,IAAI,EAAG,OACzC,IAAK,UACH,OAAOF,EAASE,IAAI,EAAG,SAASA,IAAI,EAAG,OACzC,IAAK,UACH,OAAOF,EAASE,IAAI,EAAG,SAASA,IAAI,EAAG,OACzC,IAAK,QACH,OAAOF,EAASE,IAAI,EAAG,QAAQA,IAAI,EAAG,OACxC,IAAK,WACH,OAAOF,EAASE,IAAI,IAAK,QAAQA,IAAI,EAAG,OAC1C,QACE,OAAO,OAmGPC,GAAc,CAClB1B,YACA2B,aAAeC,IAEb,IADgBA,EAAKC,KAAKC,WAAW,UAGnC,OADAC,EAAAA,GAAQxD,MAAM,2DACP,EAGT,OADgBqD,EAAKI,KAAO,KAAO,KAAO,IAK1C/B,GAAY,CAAC2B,KACN,IAJLG,EAAAA,GAAQxD,MAAM,+DACP,IAKX0D,SAAUA,KACRhC,GAAY,KAEdiC,UAAYN,IACVvB,GAAmBuB,EAAKO,KAAOC,IAAIC,gBAAgBT,EAAKU,gBACxDnC,IAAuB,KAkJ3B,OAAI7B,GAAgBY,GACXqD,EAAAA,EAAAA,KAACC,EAAAA,EAAc,IAGpBhE,IAAeJ,GAAgBe,IAAgBF,GAE/CsD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,iBAAiBC,KAAK,OAAMC,UACzCJ,EAAAA,EAAAA,KAAA,OAAKE,UAAU,oBAAoBC,KAAK,OAAMC,UAC5CJ,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACH,UAAU,iBAAiBC,KAAK,SAAQC,UAC5CJ,EAAAA,EAAAA,KAACM,EAAAA,EAAK,CACJd,QAAQ,mDACRe,YAAatE,GAAc,+DAC3BqD,KAAK,UACLkB,UAAQ,WASlBR,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CACVC,QAAS,OACTC,SAAU,QACVC,OAAQ,SACRC,WAAY,oDACZC,UAAW,SACXV,UACAW,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CACVI,WAAY,QACZG,aAAc,OACdN,QAAS,OACTO,UAAW,8BACXC,UAAW,QACXd,SAAA,EACAJ,EAAAA,EAAAA,KAAClF,EAAK,CAACqG,MAAO,EAAGV,MAAO,CACtBW,UAAW,SACXC,aAAc,OACdC,MAAO,UACPC,WAAY,QACZnB,SAAC,2CAKHJ,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACmB,MAAM,2BAAOf,MAAO,CAAEY,aAAc,IAAMlB,KAAK,SAAQC,UAE3DW,EAAAA,EAAAA,MAACjE,EAAAA,EAAI,CACHD,KAAMA,EACN4E,OAAO,WACPC,SA/SWC,UACnB,IAEE,IAAK3E,EAEH,YADAwC,EAAAA,GAAQxD,MAAM,8CAGhB,IAAKmB,EAEH,YADAqC,EAAAA,GAAQxD,MAAM,8CAGhB,GAAqB,YAAjBqB,IAA+BE,EAEjC,YADAiC,EAAAA,GAAQxD,MAAM,8CAIhB,GAAyB,UAArBgB,EAA8B,CAChC,GAAsB,WAAlBG,IAA+BY,GAEjC,YADAyB,EAAAA,GAAQxD,MAAM,gEAGhB,GAAsB,WAAlBmB,IAA+Bc,GAEjC,YADAuB,EAAAA,GAAQxD,MAAM,4EAIhB,GAAwB,IAApByB,GAASmE,OAEX,YADApC,EAAAA,GAAQxD,MAAM,6CAGlB,CAGA,IAAI6F,EAAiB,KACjBpE,GAASmE,OAAS,IACpBC,QA3CgBxC,EA2CoB5B,GAAS,GA1C1C,IAAIqE,QAASC,IAClB,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,IAAMH,EAAQC,EAAOG,QACrCH,EAAOI,cAAc/C,OA0CrB,MAAMgD,EAAW,CACfC,WAAYjH,EACZkH,UAAWlH,EACXmH,qBAAsBC,EAAOD,qBAC7BE,gBAAiBD,EAAOC,gBACxBC,SAAU3F,EACV4F,OAAQjE,KACRkE,eAAgB1F,EAChB2F,aAAmC,UAArB9F,EAA+BiC,MAAQ8D,OAAO,uBAAyBN,EAAOK,aAAaC,OAAO,uBAChHC,cAAe3F,EACf4F,eAAiC,YAAjB5F,GAA8BE,EAAgBA,EAAcwF,OAAO,uBAAyB,KAC5GG,gBAAiBrB,EACjBsB,cAAiC,WAAlBhG,EAA6BY,GAAe,KAC3DqF,cAAiC,WAAlBjG,EAA6Bc,GAAe,YAGvDvC,GAAS2H,EAAAA,EAAAA,IAAYhB,IAAWiB,SACtC9D,EAAAA,GAAQ+D,QAAQ,8CAChB1G,EAAK2G,cACL9F,GAAY,IACZM,GAAgB,IAChBE,GAAgB,IAChBZ,EAAgB,aAChBE,EAAiB,KACnB,CAAE,MAAOxB,GAEPyH,QAAQzH,MAAM,wCAAWA,GAGzB,MAAM0H,EAAiB,CACrB,sIACA,gIACA,wFAGIC,EAAe3H,EAAMwD,SAAW,mDAMhCoE,EALkBF,EAAeG,KAAKC,GAC1CH,EAAaI,SAASD,IAIiBH,EAAe,mDACxDnE,EAAAA,GAAQxD,MAAM4H,EAChB,CAzFoBvE,OAuTWe,SAAA,EAEvBJ,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACRC,KAAK,uBACL5F,MAAM,gCACN6F,MAAO,CAAC,CAAEC,UAAU,EAAM3E,QAAS,oDAAuBY,UAC1DJ,EAAAA,EAAAA,KAACoE,EAAAA,EAAK,CACJC,QAAQrE,EAAAA,EAAAA,KAACsE,EAAAA,EAAY,IACrBC,YAAY,kDACZ9E,KAAK,aAKTO,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACRC,KAAK,kBACL5F,MAAM,iCACN6F,MAAO,CAAC,CAAEC,UAAU,EAAM3E,QAAS,qDAAcY,UACjDJ,EAAAA,EAAAA,KAACoE,EAAAA,EAAK,CACJC,QAAQrE,EAAAA,EAAAA,KAACsE,EAAAA,EAAY,IACrBC,YAAY,mDACZ9E,KAAK,aAKTO,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,2BACN8F,UAAQ,EAAA/D,UACRJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,MAAW,CACVpG,MAAOpB,EACPyH,SAAWC,GAAMzH,EAAoByH,EAAEC,OAAOvG,OAC9CqC,MAAO,CAAEmE,MAAO,QAASxE,UAEzBJ,EAAAA,EAAAA,KAAC6E,EAAAA,EAAG,CAACC,OAAQ,CAAC,GAAI,IAAI1E,SACnBjC,GAAgB4G,IAAInG,IACnBoB,EAAAA,EAAAA,KAACgF,EAAAA,EAAG,CAACC,KAAM,GAAIC,GAAI,GAAIC,GAAI,EAAE/E,UAC3BJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,OAAY,CACXpG,MAAOQ,EAAOR,MACdgH,SAAUxG,EAAOwG,SACjB3E,MAAO,CACLmE,MAAO,OACPxD,UAAW,SACXiE,OAAQ,OACR3E,QAAS,OACT4E,QAAS1G,EAAOwG,SAAW,GAAM,GACjChF,UAEFW,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAAA,OAAAI,SAAMxB,EAAOP,SACb2B,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CAAE8E,SAAU,OAAQjE,MAAO,QAASlB,SAC5B,IAAjBxB,EAAON,MAAc,eAAO,IAAIM,EAAON,UAEzCM,EAAOwG,WACNpF,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CAAE8E,SAAU,OAAQjE,MAAO,WAAYlB,SAAC,6BAlBzBxB,EAAOR,eA+BlD2C,EAAAA,EAAAA,MAACjE,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,2BACN8F,UAAQ,EAAA/D,SAAA,EACRW,EAAAA,EAAAA,MAACyD,EAAAA,GAAAA,MAAW,CACVpG,MAAOf,EACPoH,SAAWC,IACTpH,EAAgBoH,EAAEC,OAAOvG,OACF,cAAnBsG,EAAEC,OAAOvG,OACXZ,EAAiB,OAEnB4C,SAAA,EAEFJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,OAAY,CAACpG,MAAM,YAAWgC,SAAC,8BAChCJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,OAAY,CAACpG,MAAM,UAASgC,SAAC,iCAEhCJ,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAYmB,MAAO,CAAE8E,SAAU,OAAQC,WAAY,OAAQpF,SAClD,cAAjB/C,EAA+B,yDAAc,4CAKhC,YAAjBA,IACC2C,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,2BACN8F,UAAQ,EAAA/D,UACRJ,EAAAA,EAAAA,KAACyF,EAAAA,EAAU,CACTC,UAAQ,EACR3C,OAAO,sBACPwB,YAAY,6CACZ9E,KAAK,QACLgB,MAAO,CAAEmE,MAAO,QAChBxG,MAAOb,EACPkH,SAAWkB,GAASnI,EAAiBmI,GACrCC,aAAeC,GAAYA,GAAWA,EAAU5G,MAAQ6G,QAAQ,YAMtE/E,EAAAA,EAAAA,MAACjE,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,2BACN8F,UAAQ,EAAA/D,SAAA,EACRW,EAAAA,EAAAA,MAACyD,EAAAA,GAAAA,MAAW,CACVpG,MAAOjB,EACPsH,SAAWC,GAAMtH,EAAiBsH,EAAEC,OAAOvG,OAAOgC,SAAA,EAElDJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,OAAY,CAACpG,MAAM,SAAQgC,SAAC,wBAC7BJ,EAAAA,EAAAA,KAACwE,EAAAA,GAAAA,OAAY,CAACpG,MAAM,SAAQgC,SAAC,sCAEZ,WAAlBjD,GAA8BH,GAAyC,UAArBA,IACjDgD,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CAAES,UAAW,GAAId,UAC3BW,EAAAA,EAAAA,MAAChG,EAAI,CAACuE,KAAK,YAAYmB,MAAO,CAAE8E,SAAU,QAASnF,SAAA,CAAC,4GACN,KAArBzB,MAA2BoH,QAAQ,WAtTrElK,GAAiBsB,GAAkBT,GAAsC,UAArBM,EAEnC,WAAlBG,GAEA6C,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACmB,MAAM,6CAAUf,MAAO,CAAEY,aAAc,IAAMlB,KAAK,SAAQC,UAC9DW,EAAAA,EAAAA,MAACiF,EAAAA,EAAK,CAACC,UAAU,WAAWxF,MAAO,CAAEmE,MAAO,QAASxE,SAAA,EACnDW,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAAA9F,SAAC,0CACbJ,EAAAA,EAAAA,KAACjF,EAAI,CAACoL,UAAQ,EAAA/F,SAAE1D,EAAc0J,qBAEhCrF,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAAA9F,SAAC,0CACbJ,EAAAA,EAAAA,KAACjF,EAAI,CAAAqF,SAAE1D,EAAc2J,qBAIvBtF,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAEW,UAAW,SAAUF,UAAW,IAAKd,SAAA,EACjDJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAACzF,MAAO,CAAE6F,QAAS,QAASjF,aAAc,GAAIjB,SAAC,yCAC1D1D,EAAc6J,gBACbvG,EAAAA,EAAAA,KAACwG,EAAAA,EAAK,CACJ5B,MAAO,IACPS,OAAQ,IACRoB,IAAK/J,EAAc6J,eACnB9F,MAAO,CAAEiG,UAAW,QAAS1F,aAAc,GAC3C2F,QAAS,CACPF,IAAK/J,EAAc6J,mBAIvBvG,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CACVmE,MAAO,IACPS,OAAQ,IACRuB,OAAQ,qBACR5F,aAAc,EACdsF,QAAS,OACTO,WAAY,SACZC,eAAgB,SAChBC,gBAAiB,WACjB3G,UACAJ,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAWc,SAAC,qDAK7BJ,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,yDACN8F,UAAQ,EAAA/D,UACRJ,EAAAA,EAAAA,KAACoE,EAAAA,EAAK,CACJ9E,KAAK,SACLiF,YAAY,6CACZnG,MAAOL,GACP0G,SAAWC,GAAM1G,GAAgB0G,EAAEC,OAAOvG,OAC1C,aAAW,6CACX4I,WAAW,SACXvH,KAAK,iBASK,WAAlBtC,GAEA4D,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAEY,aAAc,IAAKjB,SAAA,EAC/BJ,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACmB,MAAM,uCAAS/B,KAAK,QAAQU,KAAK,SAAQC,UAC7CW,EAAAA,EAAAA,MAACiF,EAAAA,EAAK,CAACC,UAAU,WAAWxF,MAAO,CAAEmE,MAAO,QAASxE,SAAA,EACnDW,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAAA9F,SAAC,wBACbJ,EAAAA,EAAAA,KAACjF,EAAI,CAAAqF,SAAE1D,EAAcuK,wBAEvBlG,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAAA9F,SAAC,wBACbJ,EAAAA,EAAAA,KAACjF,EAAI,CAACoL,UAAQ,EAAA/F,SAAE1D,EAAcwK,oBAI/BxK,EAAcyK,gBACbpG,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAEW,UAAW,SAAUF,UAAW,IAAKd,SAAA,EACjDJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAACzF,MAAO,CAAE6F,QAAS,QAASjF,aAAc,GAAIjB,SAAC,oCAC3DJ,EAAAA,EAAAA,KAACwG,EAAAA,EAAK,CACJ5B,MAAO,IACPS,OAAQ,IACRoB,IAAK/J,EAAcyK,eACnB1G,MAAO,CAAEiG,UAAW,QAAS1F,aAAc,GAC3C2F,QAAS,CACPF,IAAK/J,EAAcyK,sBAKzBpG,EAAAA,EAAAA,MAAA,OAAKN,MAAO,CAAEW,UAAW,SAAUF,UAAW,IAAKd,SAAA,EACjDJ,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAWc,SAAC,oCACvBJ,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CACVmE,MAAO,IACPS,OAAQ,IACRuB,OAAQ,qBACR5F,aAAc,EACdsF,QAAS,OACTO,WAAY,SACZC,eAAgB,SAChBlG,OAAQ,YACRmG,gBAAiB,WACjB3G,UACAJ,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAWc,SAAC,8CAQjCJ,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,mDACN8F,UAAQ,EAAA/D,UACRJ,EAAAA,EAAAA,KAACoE,EAAAA,EAAK,CACJ9E,KAAK,SACLiF,YAAY,6CACZnG,MAAOH,GACPwG,SAAWC,GAAMxG,GAAgBwG,EAAEC,OAAOvG,OAC1C,aAAW,6CACX4I,WAAW,eACXvH,KAAK,aAITO,EAAAA,EAAAA,KAACM,EAAAA,EAAK,CACJd,QAAQ,iFACRF,KAAK,UACLkB,UAAQ,EACRC,MAAO,CAAES,UAAW,SAMrB,KAzIuF,KAgUhE,UAArBlE,IACCgD,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CACRC,KAAK,eACL5F,MAAM,2BACN6F,MAAO,CAAC,CAAEC,UAAU,EAAM3E,QAAS,+CAAaY,UAChDJ,EAAAA,EAAAA,KAACyF,EAAAA,EAAU,CACTC,UAAQ,EACR3C,OAAO,sBACPwB,YAAY,6CACZ9E,KAAK,QACLgB,MAAO,CAAEmE,MAAO,QAChBgB,aAAeC,GAAYA,GAAWA,EAAU5G,MAAQmI,MAAM,WAM9C,UAArBpK,IACC+D,EAAAA,EAAAA,MAACjE,EAAAA,EAAKkH,KAAI,CACR3F,MAAM,2BACN8F,UAAQ,EACRkD,eAAoC,IAApB5J,GAASmE,OAAe,QAAU,UAClD0F,KAA0B,IAApB7J,GAASmE,OAAe,6CAAY,GAAGxB,SAAA,EAC7CJ,EAAAA,EAAAA,KAACuH,EAAAA,EAAM,IAAKpI,GAAaqI,SAAS,UAASpH,UACzCJ,EAAAA,EAAAA,KAACyH,EAAAA,GAAM,CAACC,MAAM1H,EAAAA,EAAAA,KAAC2H,EAAAA,EAAc,IAAKlI,KAAK,QAAQmI,SAAU,EAAExH,SAAC,gCAI9DJ,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAWc,SAAC,wFAK1BpD,IACC+D,EAAAA,EAAAA,MAACV,EAAAA,EAAI,CACHI,MAAO,CACLsG,gBAAiB,UACjBc,YAAa,UACbxG,aAAc,IAEjBlB,KAAK,SAAQC,SAAA,EACZW,EAAAA,EAAAA,MAAC8D,EAAAA,EAAG,CAACC,OAAQ,GAAG1E,SAAA,EACdJ,EAAAA,EAAAA,KAACgF,EAAAA,EAAG,CAACC,KAAM,EAAE7E,UACXJ,EAAAA,EAAAA,KAAC8H,EAAAA,EAAS,CACRtG,MAAM,2BACNpD,MAAkE,QAA7DhD,EAAE+C,GAAgBU,KAAKC,GAAOA,EAAIV,QAAUpB,UAAiB,IAAA5B,OAAA,EAA3DA,EAA6DiD,MACpEgG,QAAQrE,EAAAA,EAAAA,KAAC+H,EAAAA,EAAmB,SAGhC/H,EAAAA,EAAAA,KAACgF,EAAAA,EAAG,CAACC,KAAM,EAAE7E,UACXJ,EAAAA,EAAAA,KAAC8H,EAAAA,EAAS,CACRtG,MAAM,2BACNpD,MAAOO,KACP0F,QAAQrE,EAAAA,EAAAA,KAACgI,EAAAA,EAAc,IACvBC,OAAO,oBAGXjI,EAAAA,EAAAA,KAACgF,EAAAA,EAAG,CAACC,KAAM,EAAE7E,UACXJ,EAAAA,EAAAA,KAAC8H,EAAAA,EAAS,CACRtG,MAAM,uCACNpD,MACuB,aAArBpB,EACI,2BACA+B,KACEA,KAAsBgE,OAAO,oBAC7B,6CAERsB,QAAQrE,EAAAA,EAAAA,KAAC+H,EAAAA,EAAmB,IAC5BG,WAAY,CACV3C,SAAU,OACVjE,MAA4B,aAArBtE,EAAkC,eAAYmL,UAK3C,YAAjB9K,IAA+BE,IAC9ByC,EAAAA,EAAAA,KAACM,EAAAA,EAAK,CACJd,QAAQ,uFACRF,KAAK,UACLkB,UAAQ,EACRC,MAAO,CAAES,UAAW,UAO5BlB,EAAAA,EAAAA,KAAClD,EAAAA,EAAKkH,KAAI,CAAA5D,UACRJ,EAAAA,EAAAA,KAACyH,EAAAA,GAAM,CACLnI,KAAK,UACL8I,SAAS,SACTtM,QAASO,EACToD,KAAK,QACL4I,OAAK,EACLjD,UACGpI,GACqB,UAArBA,IAAiCG,GACf,WAAlBA,GAAmD,UAArBH,IAAiCe,IAC7C,WAAlBZ,GAAmD,UAArBH,IAAiCiB,IAC9C,YAAjBZ,IAA+BE,EAElCkD,MAAO,CACLI,WAAY,oDACZ+F,OAAQ,OACRvB,OAAQ,OACRE,SAAU,OACVhE,WAAY,QAEfqG,SAAU,EAAExH,SAAC,oCASnB9D,IACC0D,EAAAA,EAAAA,KAACM,EAAAA,EAAK,CACJd,QAAQ,mDACRe,YAAajE,EACbgD,KAAK,UACLkB,UAAQ,EACRC,MAAO,CAAES,UAAW,MAKvB3E,IACCyD,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CACHmB,MAAM,uCACNf,MAAO,CACLsG,gBAAiB,UACjBc,YAAa,UACb3G,UAAW,IAEdf,KAAK,SAAQC,UACZW,EAAAA,EAAAA,MAACiF,EAAAA,EAAK,CAACC,UAAU,WAAWxF,MAAO,CAAEmE,MAAO,QAASxE,SAAA,EAEnDW,EAAAA,EAAAA,MAAA,OAAAX,SAAA,EACEJ,EAAAA,EAAAA,KAACjF,EAAI,CAACmL,QAAM,EAAA9F,SAAC,oCACbJ,EAAAA,EAAAA,KAACjF,EAAI,CAAAqF,SAA0B,mBAAxB7D,EAAa+L,OAA8B,qBAAQ/L,EAAa+L,aAEzEtI,EAAAA,EAAAA,KAACjF,EAAI,CAACuE,KAAK,YAAWc,SAAC,qJAU7BJ,EAAAA,EAAAA,KAACuI,EAAAA,EAAK,CACJC,KAAM7K,GACN8K,OAAQ,KACRC,SAAUA,IAAM9K,IAAuB,GACvCgH,MAAM,MACNnE,MAAO,CAAEkI,IAAK,IAAKvI,UAEnBJ,EAAAA,EAAAA,KAACwG,EAAAA,EAAK,CACJ/F,MAAO,CAAEmE,MAAO,QAChB6B,IAAK5I,GACL8I,QAAS,CACPiC,QAASjL,GACTkL,gBAAkBD,GAAYhL,GAAuBgL,a","sources":["components/QRCodeDisplay.js","pages/PurchasePage.js"],"sourcesContent":["import React from 'react';\nimport QRCode from 'qrcode';\nimport { Card, Typography, Button, Space, message } from 'antd';\nimport { ShareAltOutlined, CopyOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\n\nconst QRCodeDisplay = ({ address, chainName = 'TRC10/TRC20' }) => {\n  const [qrCodeUrl, setQrCodeUrl] = React.useState('');\n\n  React.useEffect(() => {\n    if (address) {\n      QRCode.toDataURL(address, {\n        width: 200,\n        margin: 2,\n        color: {\n          dark: '#000000',\n          light: '#FFFFFF'\n        }\n      }).then(url => {\n        setQrCodeUrl(url);\n      }).catch(err => {\n        console.error('生成QR码失败:', err);\n      });\n    }\n  }, [address]);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(address);\n      message.success('地址已复制到剪贴板');\n    } catch (err) {\n      message.error('复制失败');\n    }\n  };\n\n  const handleShare = async () => {\n    try {\n      if (navigator.share) {\n        await navigator.share({\n          title: '收款地址',\n          text: `链名: ${chainName}\\n地址: ${address}`,\n        });\n      } else {\n        await navigator.clipboard.writeText(`链名: ${chainName}\\n地址: ${address}`);\n        message.success('收款信息已复制到剪贴板');\n      }\n    } catch (err) {\n      message.error('分享失败');\n    }\n  };\n\n  if (!address) {\n    return null;\n  }\n\n  return (\n    <Card className=\"card-container\" role=\"region\">\n      <div style={{ textAlign: 'center' }}>\n        <Title level={4} style={{ marginBottom: 16 }}>\n          仅支持 {chainName} 资产\n        </Title>\n        \n        <div style={{ \n          display: 'inline-block', \n          padding: '20px', \n          border: '2px solid #f0f0f0',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        }}>\n          {qrCodeUrl && (\n            <img \n              src={qrCodeUrl} \n              alt=\"QR Code\" \n              style={{ \n                display: 'block',\n                maxWidth: '200px',\n                width: '100%'\n              }} \n            />\n          )}\n        </div>\n        \n        <div style={{ marginBottom: '20px' }}>\n          <Text type=\"secondary\" style={{ fontSize: '14px' }}>\n            钱包地址\n          </Text>\n          <div style={{ \n            wordBreak: 'break-all', \n            fontSize: '12px',\n            marginTop: '8px',\n            padding: '8px',\n            backgroundColor: '#f5f5f5',\n            borderRadius: '4px'\n          }}>\n            {address}\n          </div>\n        </div>\n        \n        <Space>\n          <Button \n            type=\"primary\" \n            icon={<ShareAltOutlined />}\n            onClick={handleShare}\n            tabIndex={0}\n          >\n            分享\n          </Button>\n          <Button \n            icon={<CopyOutlined />}\n            onClick={handleCopy}\n            tabIndex={0}\n          >\n            复制\n          </Button>\n        </Space>\n      </div>\n    </Card>\n  );\n};\n\nexport default QRCodeDisplay; ","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useSearchParams } from 'react-router-dom';\nimport { \n  Card, \n  Form, \n  Input, \n  Select, \n  Button, \n  message, \n  Typography, \n  Divider,\n  Alert,\n  Space,\n  Radio,\n  DatePicker,\n  Upload,\n  Row,\n  Col,\n  Statistic,\n  Image,\n  Modal\n} from 'antd';\nimport { \n  UserOutlined, \n  WalletOutlined, \n  UploadOutlined,\n  DollarOutlined,\n  ClockCircleOutlined\n} from '@ant-design/icons';\nimport dayjs from 'dayjs';\nimport { getSalesByLink, clearCurrentSales } from '../store/slices/salesSlice';\nimport { createOrder, clearCreatedOrder } from '../store/slices/ordersSlice';\n\nimport { getPaymentConfig } from '../store/slices/paymentConfigSlice';\nimport QRCodeDisplay from '../components/QRCodeDisplay';\nimport LoadingSpinner from '../components/LoadingSpinner';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nconst PurchasePage = () => {\n  const { linkCode: pathLinkCode } = useParams();\n  const [searchParams] = useSearchParams();\n  const dispatch = useDispatch();\n  \n  // 获取链接代码，优先从查询参数获取，其次从路径参数获取\n  const linkCode = searchParams.get('sales_code') || pathLinkCode;\n  const { currentSales, loading: salesLoading, error: salesError } = useSelector((state) => state.sales);\n  const { loading: orderLoading, error: orderError, createdOrder } = useSelector((state) => state.orders);\n\n  const { config: paymentConfig, loading: configLoading, error: configError } = useSelector((state) => state.paymentConfig);\n  const [form] = Form.useForm();\n\n  const [selectedDuration, setSelectedDuration] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [purchaseType, setPurchaseType] = useState('immediate');\n  const [effectiveTime, setEffectiveTime] = useState(null);\n  const [fileList, setFileList] = useState([]);\n  const [imagePreviewVisible, setImagePreviewVisible] = useState(false);\n  const [imagePreviewUrl, setImagePreviewUrl] = useState('');\n  const [alipayAmount, setAlipayAmount] = useState('');\n  const [cryptoAmount, setCryptoAmount] = useState('');\n\n  // 时长选项和价格\n  const durationOptions = [\n    { value: '7days', label: '7天免费', price: 0 },\n    { value: '1month', label: '1个月', price: 188 },\n    { value: '3months', label: '3个月', price: 488 },\n    { value: '6months', label: '6个月', price: 688 },\n    { value: '1year', label: '1年', price: 1588 }\n  ];\n\n  // 获取销售信息和支付配置\n  useEffect(() => {\n    if (linkCode) {\n      dispatch(getSalesByLink(linkCode));\n      dispatch(getPaymentConfig());\n    }\n    return () => {\n      dispatch(clearCurrentSales());\n    };\n  }, [dispatch, linkCode]);\n\n  // 获取选中时长的价格\n  const getSelectedPrice = () => {\n    const option = durationOptions.find(opt => opt.value === selectedDuration);\n    return option ? option.price : 0;\n  };\n\n  // 计算到期时间\n  const calculateExpiryTime = () => {\n    if (!selectedDuration) return null;\n    \n    let baseTime;\n    if (purchaseType === 'immediate') {\n      // 即时生效：提交日期 + 购买时长 + 1天\n      baseTime = dayjs();\n    } else if (purchaseType === 'advance' && effectiveTime) {\n      // 提前购买：生效时间 + 购买时长 + 1天\n      baseTime = effectiveTime;\n    } else {\n      return null;\n    }\n\n    switch (selectedDuration) {\n      case '7days':\n        return baseTime.add(7, 'day').add(1, 'day');\n      case '1month':\n        return baseTime.add(1, 'month').add(1, 'day');\n      case '3months':\n        return baseTime.add(3, 'month').add(1, 'day');\n      case '6months':\n        return baseTime.add(6, 'month').add(1, 'day');\n      case '1year':\n        return baseTime.add(1, 'year').add(1, 'day');\n      case 'lifetime':\n        return baseTime.add(100, 'year').add(1, 'day');\n      default:\n        return null;\n    }\n  };\n\n  // 处理表单提交\n  // 将文件转换为Base64\n  const fileToBase64 = (file) => {\n    return new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result);\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleSubmit = async (values) => {\n    try {\n      // 验证必填项\n      if (!selectedDuration) {\n        message.error('请选择购买时长');\n        return;\n      }\n      if (!paymentMethod) {\n        message.error('请选择付款方式');\n        return;\n      }\n      if (purchaseType === 'advance' && !effectiveTime) {\n        message.error('请选择生效时间');\n        return;\n      }\n      // 免费订单不需要验证付款金额和截图\n      if (selectedDuration !== '7days') {\n        if (paymentMethod === 'alipay' && !alipayAmount) {\n          message.error('请输入支付宝付款金额');\n          return;\n        }\n        if (paymentMethod === 'crypto' && !cryptoAmount) {\n          message.error('请输入线上地址码付款金额');\n          return;\n        }\n        // 付款截图必填验证\n        if (fileList.length === 0) {\n          message.error('请上传付款截图');\n          return;\n        }\n      }\n\n      // 处理截图上传\n      let screenshotData = null;\n      if (fileList.length > 0) {\n        screenshotData = await fileToBase64(fileList[0]);\n      }\n\n      const formData = {\n        sales_code: linkCode, // 使用新的sales_code字段\n        link_code: linkCode,  // 保持兼容性\n        tradingview_username: values.tradingview_username,\n        customer_wechat: values.customer_wechat,\n        duration: selectedDuration, // 发送原始值，后端负责映射\n        amount: getSelectedPrice(), // 添加金额字段\n        payment_method: paymentMethod, // 发送原始值，后端负责映射\n        payment_time: selectedDuration === '7days' ? dayjs().format('YYYY-MM-DD HH:mm:ss') : values.payment_time.format('YYYY-MM-DD HH:mm:ss'),\n        purchase_type: purchaseType, // 发送原始值，后端负责映射\n        effective_time: purchaseType === 'advance' && effectiveTime ? effectiveTime.format('YYYY-MM-DD HH:mm:ss') : null,\n        screenshot_data: screenshotData,\n        alipay_amount: paymentMethod === 'alipay' ? alipayAmount : null,\n        crypto_amount: paymentMethod === 'crypto' ? cryptoAmount : null\n      };\n\n      await dispatch(createOrder(formData)).unwrap();\n      message.success('订单提交成功！');\n      form.resetFields();\n      setFileList([]);\n      setAlipayAmount('');\n      setCryptoAmount('');\n      setPurchaseType('immediate');\n      setEffectiveTime(null);\n    } catch (error) {\n      // 用户购买失败友好提示 - 显示具体错误但保持友好性\n      console.error('订单提交失败:', error);\n      \n      // 特定业务错误直接显示，不使用通用提示\n      const specificErrors = [\n        '您的tradingview已通过其他销售绑定，不支持跨销售绑定',\n        '您的tradingview已通过销售绑定，不支持二次销售绑定',\n        '您已享受过免费期，请续费使用'\n      ];\n      \n      const errorMessage = error.message || '下单拥挤，请等待';\n      const isSpecificError = specificErrors.some(specificError => \n        errorMessage.includes(specificError)\n      );\n      \n      // 如果是具体的业务错误，直接显示；否则显示通用提示\n      const displayMessage = isSpecificError ? errorMessage : '下单拥挤，请等待';\n      message.error(displayMessage);\n    }\n  };\n\n  // 文件上传配置\n  const uploadProps = {\n    fileList,\n    beforeUpload: (file) => {\n      const isImage = file.type.startsWith('image/');\n      if (!isImage) {\n        message.error('只能上传图片文件！');\n        return false;\n      }\n      const isLt10M = file.size / 1024 / 1024 < 10;\n      if (!isLt10M) {\n        message.error('图片大小不能超过10MB！');\n        return false;\n      }\n      setFileList([file]);\n      return false;\n    },\n    onRemove: () => {\n      setFileList([]);\n    },\n    onPreview: (file) => {\n      setImagePreviewUrl(file.url || URL.createObjectURL(file.originFileObj));\n      setImagePreviewVisible(true);\n    }\n  };\n\n  // 显示收款信息\n  const renderPaymentInfo = () => {\n    if (!currentSales || !paymentMethod || !paymentConfig || selectedDuration === '7days') return null;\n\n    if (paymentMethod === 'alipay') {\n      return (\n        <Card title=\"支付宝收款信息\" style={{ marginBottom: 16 }} role=\"region\">\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <div>\n              <Text strong>支付宝账号：</Text>\n              <Text copyable>{paymentConfig.alipay_account}</Text>\n            </div>\n            <div>\n              <Text strong>收款人姓氏：</Text>\n              <Text>{paymentConfig.alipay_surname}</Text>\n            </div>\n            \n            {/* 支付宝收款码图片 */}\n            <div style={{ textAlign: 'center', marginTop: 16 }}>\n              <Text strong style={{ display: 'block', marginBottom: 8 }}>支付宝收款码</Text>\n              {paymentConfig.alipay_qr_code ? (\n                <Image\n                  width={200}\n                  height={200}\n                  src={paymentConfig.alipay_qr_code}\n                  style={{ objectFit: 'cover', borderRadius: 8 }}\n                  preview={{\n                    src: paymentConfig.alipay_qr_code,\n                  }}\n                />\n              ) : (\n                <div style={{ \n                  width: 200, \n                  height: 200, \n                  border: '2px dashed #d9d9d9', \n                  borderRadius: 8,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  backgroundColor: '#fafafa'\n                }}>\n                  <Text type=\"secondary\">暂无收款码图片</Text>\n                </div>\n              )}\n            </div>\n            \n            <Form.Item\n              label=\"付款金额（人民币）\"\n              required>\n              <Input\n                type=\"number\"\n                placeholder=\"请输入付款金额\"\n                value={alipayAmount}\n                onChange={(e) => setAlipayAmount(e.target.value)}\n                aria-label=\"请输入付款金额\"\n                addonAfter=\"元\"\n                size=\"large\"\n              />\n            </Form.Item>\n\n          </Space>\n        </Card>\n      );\n    }\n\n    if (paymentMethod === 'crypto') {\n      return (\n        <div style={{ marginBottom: 16 }}>\n          <Card title=\"链上收款信息\" size=\"small\" role=\"region\">\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              <div>\n                <Text strong>链名：</Text>\n                <Text>{paymentConfig.crypto_chain_name}</Text>\n              </div>\n              <div>\n                <Text strong>地址：</Text>\n                <Text copyable>{paymentConfig.crypto_address}</Text>\n              </div>\n              \n              {/* 链上收款码图片 */}\n              {paymentConfig.crypto_qr_code ? (\n                <div style={{ textAlign: 'center', marginTop: 16 }}>\n                  <Text strong style={{ display: 'block', marginBottom: 8 }}>收款码图片</Text>\n                  <Image\n                    width={200}\n                    height={200}\n                    src={paymentConfig.crypto_qr_code}\n                    style={{ objectFit: 'cover', borderRadius: 8 }}\n                    preview={{\n                      src: paymentConfig.crypto_qr_code,\n                    }}\n                  />\n                </div>\n              ) : (\n                <div style={{ textAlign: 'center', marginTop: 16 }}>\n                  <Text type=\"secondary\">收款码图片</Text>\n                  <div style={{ \n                    width: 200, \n                    height: 200, \n                    border: '1px dashed #d9d9d9', \n                    borderRadius: 8,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    margin: '16px auto',\n                    backgroundColor: '#fafafa'\n                  }}>\n                    <Text type=\"secondary\">收款码图片</Text>\n                  </div>\n                </div>\n              )}\n            </Space>\n          </Card>\n          \n          {/* 线上地址码付款金额输入 */}\n          <Form.Item\n            label=\"付款金额（美元）\"\n            required>\n            <Input\n              type=\"number\"\n              placeholder=\"请输入付款金额\"\n              value={cryptoAmount}\n              onChange={(e) => setCryptoAmount(e.target.value)}\n              aria-label=\"请输入付款金额\"\n              addonAfter=\"美元\"\n              size=\"large\"\n            />\n          </Form.Item>\n          \n          <Alert\n            message=\"请考虑手续费，保障到账金额\"\n            type=\"warning\"\n            showIcon\n            style={{ marginTop: 16 }}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  if (salesLoading || configLoading) {\n    return <LoadingSpinner />;\n  }\n\n  if (salesError || !currentSales || configError || !paymentConfig) {\n    return (\n      <div className=\"page-container\" role=\"main\">\n        <div className=\"content-container\" role=\"main\">\n          <Card className=\"card-container\" role=\"region\">\n            <Alert\n              message=\"下单拥挤，请等待\"\n              description={salesError || \"系统繁忙，请稍后再试\"}\n              type=\"warning\"\n              showIcon\n            />\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ \n      padding: '24px', \n      maxWidth: '900px', \n      margin: '0 auto',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      minHeight: '100vh'\n    }}>\n      <div style={{\n        background: 'white',\n        borderRadius: '16px',\n        padding: '32px',\n        boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\n        marginTop: '20px'\n      }}>\n        <Title level={2} style={{ \n          textAlign: 'center', \n          marginBottom: '32px',\n          color: '#2c3e50',\n          fontWeight: 'bold'\n        }}>\n          🚀 购买服务\n        </Title>\n\n        {/* 购买表单 */}\n        <Card title=\"购买信息\" style={{ marginBottom: 16 }} role=\"region\">\n\n          <Form\n            form={form}\n            layout=\"vertical\"\n            onFinish={handleSubmit}>\n            {/* TradingView用户名 */}\n            <Form.Item\n              name=\"tradingview_username\"\n              label=\"TradingView用户名\"\n              rules={[{ required: true, message: '请输入TradingView用户名' }]}>\n              <Input \n                prefix={<UserOutlined />} \n                placeholder=\"请输入TradingView用户名\"\n                size=\"large\"\n              />\n            </Form.Item>\n\n            {/* 用户微信号 */}\n            <Form.Item\n              name=\"customer_wechat\"\n              label=\"用户微信号\"\n              rules={[{ required: true, message: '请输入用户微信号' }]}>\n              <Input \n                prefix={<UserOutlined />} \n                placeholder=\"请输入用户微信号\"\n                size=\"large\"\n              />\n            </Form.Item>\n\n            {/* 购买时长 */}\n            <Form.Item\n              label=\"购买时长\"\n              required>\n              <Radio.Group \n                value={selectedDuration}\n                onChange={(e) => setSelectedDuration(e.target.value)}\n                style={{ width: '100%' }}\n              >\n                <Row gutter={[16, 16]}>\n                  {durationOptions.map(option => (\n                    <Col span={24} sm={12} md={8} key={option.value}>\n                      <Radio.Button \n                        value={option.value}\n                        disabled={option.disabled}\n                        style={{ \n                          width: '100%', \n                          textAlign: 'center',\n                          height: 'auto',\n                          padding: '12px',\n                          opacity: option.disabled ? 0.5 : 1\n                        }}\n                      >\n                        <div>\n                          <div>{option.label}</div>\n                          <div style={{ fontSize: '12px', color: '#666' }}>\n                            {option.price === 0 ? '免费' : `$${option.price}`}\n                          </div>\n                          {option.disabled && (\n                            <div style={{ fontSize: '10px', color: '#ff4d4f' }}>\n                              已售罄\n                            </div>\n                          )}\n                        </div>\n                      </Radio.Button>\n                    </Col>\n                  ))}\n                </Row>\n              </Radio.Group>\n            </Form.Item>\n\n            {/* 购买方式 */}\n            <Form.Item\n              label=\"购买方式\"\n              required>\n              <Radio.Group \n                value={purchaseType}\n                onChange={(e) => {\n                  setPurchaseType(e.target.value);\n                  if (e.target.value === 'immediate') {\n                    setEffectiveTime(null);\n                  }\n                }}\n              >\n                <Radio.Button value=\"immediate\">即时购买</Radio.Button>\n                <Radio.Button value=\"advance\">提前购买</Radio.Button>\n              </Radio.Group>\n              <Text type=\"secondary\" style={{ fontSize: '12px', marginLeft: '8px' }}>\n                {purchaseType === 'immediate' ? '购买日配置后即生效' : '请指定生效日'}\n              </Text>\n            </Form.Item>\n\n            {/* 生效时间（提前购买时显示） */}\n            {purchaseType === 'advance' && (\n              <Form.Item\n                label=\"生效时间\"\n                required>\n                <DatePicker \n                  showTime \n                  format=\"YYYY-MM-DD HH:mm:ss\"\n                  placeholder=\"请选择生效时间\"\n                  size=\"large\"\n                  style={{ width: '100%' }}\n                  value={effectiveTime}\n                  onChange={(date) => setEffectiveTime(date)}\n                  disabledDate={(current) => current && current < dayjs().startOf('day')}\n                />\n              </Form.Item>\n            )}\n\n            {/* 付款方式 */}\n            <Form.Item\n              label=\"付款方式\"\n              required>\n              <Radio.Group \n                value={paymentMethod}\n                onChange={(e) => setPaymentMethod(e.target.value)}\n              >\n                <Radio.Button value=\"alipay\">支付宝</Radio.Button>\n                <Radio.Button value=\"crypto\">线上地址码</Radio.Button>\n              </Radio.Group>\n              {paymentMethod === 'alipay' && selectedDuration && selectedDuration !== '7days' && (\n                <div style={{ marginTop: 8 }}>\n                  <Text type=\"secondary\" style={{ fontSize: '12px' }}>\n                    默认汇率按照7.15计算，建议付款金额：¥{(getSelectedPrice() * 7.15).toFixed(2)}\n                  </Text>\n                </div>\n              )}\n            </Form.Item>\n\n            {/* 收款信息 - 根据付款方式动态显示 */}\n            {renderPaymentInfo()}\n\n            {/* 付款时间 - 免费订单不显示 */}\n            {selectedDuration !== '7days' && (\n              <Form.Item\n                name=\"payment_time\"\n                label=\"付款时间\"\n                rules={[{ required: true, message: '请选择付款时间' }]}>\n                <DatePicker \n                  showTime \n                  format=\"YYYY-MM-DD HH:mm:ss\"\n                  placeholder=\"请选择付款时间\"\n                  size=\"large\"\n                  style={{ width: '100%' }}\n                  disabledDate={(current) => current && current > dayjs().endOf('day')}\n                />\n              </Form.Item>\n            )}\n\n            {/* 付款截图 - 免费订单不显示 */}\n            {selectedDuration !== '7days' && (\n              <Form.Item\n                label=\"付款截图\"\n                required\n                validateStatus={fileList.length === 0 ? 'error' : 'success'}\n                help={fileList.length === 0 ? '请上传付款截图' : ''}>\n                <Upload {...uploadProps} listType=\"picture\">\n                  <Button icon={<UploadOutlined />} size=\"large\" tabIndex={0}>\n                    上传截图\n                  </Button>\n                </Upload>\n                <Text type=\"secondary\">支持 JPG、PNG、GIF、WebP 格式，最大 10MB</Text>\n              </Form.Item>\n            )}\n\n            {/* 价格和到期时间显示 */}\n            {selectedDuration && (\n              <Card \n                style={{ \n                  backgroundColor: '#f6ffed', \n                  borderColor: '#b7eb8f',\n                  marginBottom: 16\n                }}\n               role=\"region\">\n                <Row gutter={16}>\n                  <Col span={8}>\n                    <Statistic\n                      title=\"选择时长\"\n                      value={durationOptions.find(opt => opt.value === selectedDuration)?.label}\n                      prefix={<ClockCircleOutlined />}\n                    />\n                  </Col>\n                  <Col span={8}>\n                    <Statistic\n                      title=\"应付金额\"\n                      value={getSelectedPrice()}\n                      prefix={<DollarOutlined />}\n                      suffix=\"美元\"\n                    />\n                  </Col>\n                  <Col span={8}>\n                    <Statistic\n                      title=\"预计到期时间\"\n                      value={\n                        selectedDuration === 'lifetime' \n                          ? '无限时长' \n                          : calculateExpiryTime() \n                            ? calculateExpiryTime().format('YYYY-MM-DD HH:mm') \n                            : '请选择生效时间'\n                      }\n                      prefix={<ClockCircleOutlined />}\n                      valueStyle={{ \n                        fontSize: '14px',\n                        color: selectedDuration === 'lifetime' ? '#52c41a' : undefined\n                      }}\n                    />\n                  </Col>\n                </Row>\n                {purchaseType === 'advance' && !effectiveTime && (\n                  <Alert\n                    message=\"请选择生效时间以查看到期时间\"\n                    type=\"warning\"\n                    showIcon\n                    style={{ marginTop: 16 }}\n                  />\n                )}\n              </Card>\n            )}\n\n            {/* 提交按钮 */}\n            <Form.Item>\n              <Button \n                type=\"primary\" \n                htmlType=\"submit\" \n                loading={orderLoading}\n                size=\"large\"\n                block\n                disabled={\n                  !selectedDuration || \n                  (selectedDuration !== '7days' && !paymentMethod) || \n                  (paymentMethod === 'alipay' && selectedDuration !== '7days' && !alipayAmount) ||\n                  (paymentMethod === 'crypto' && selectedDuration !== '7days' && !cryptoAmount) ||\n                  (purchaseType === 'advance' && !effectiveTime)\n                }\n                style={{\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  border: 'none',\n                  height: '48px',\n                  fontSize: '16px',\n                  fontWeight: 'bold'\n                }}\n               tabIndex={0}>\n                提交订单\n              </Button>\n\n            </Form.Item>\n          </Form>\n        </Card>\n\n        {/* 错误提示 */}\n        {orderError && (\n          <Alert\n            message=\"下单拥挤，请等待\"\n            description={orderError}\n            type=\"warning\"\n            showIcon\n            style={{ marginTop: 16 }}\n          />\n        )}\n\n        {/* 订单提交成功 */}\n        {createdOrder && (\n          <Card \n            title=\"订单提交成功\" \n            style={{ \n              backgroundColor: '#f6ffed', \n              borderColor: '#b7eb8f',\n              marginTop: 16\n            }}\n           role=\"region\">\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n\n              <div>\n                <Text strong>订单状态：</Text>\n                <Text>{createdOrder.status === 'pending_review' ? '待确认' : createdOrder.status}</Text>\n              </div>\n              <Text type=\"secondary\">\n                请等待管理员确认您的付款，确认后即可使用服务。\n              </Text>\n            </Space>\n          </Card>\n        )}\n\n\n\n        {/* 图片预览模态框 */}\n        <Modal\n          open={imagePreviewVisible}\n          footer={null}\n          onCancel={() => setImagePreviewVisible(false)}\n          width=\"80%\"\n          style={{ top: 20 }}\n        >\n          <Image\n            style={{ width: '100%' }}\n            src={imagePreviewUrl}\n            preview={{\n              visible: imagePreviewVisible,\n              onVisibleChange: (visible) => setImagePreviewVisible(visible),\n            }}\n          />\n        </Modal>\n      </div>\n    </div>\n  );\n};\n\nexport default PurchasePage; "],"names":["Title","Text","Typography","Option","Select","PurchasePage","_durationOptions$find","linkCode","pathLinkCode","useParams","searchParams","useSearchParams","dispatch","useDispatch","get","currentSales","loading","salesLoading","error","salesError","useSelector","state","sales","orderLoading","orderError","createdOrder","orders","config","paymentConfig","configLoading","configError","form","Form","useForm","selectedDuration","setSelectedDuration","useState","paymentMethod","setPaymentMethod","purchaseType","setPurchaseType","effectiveTime","setEffectiveTime","fileList","setFileList","imagePreviewVisible","setImagePreviewVisible","imagePreviewUrl","setImagePreviewUrl","alipayAmount","setAlipayAmount","cryptoAmount","setCryptoAmount","durationOptions","value","label","price","useEffect","getSalesByLink","getPaymentConfig","clearCurrentSales","getSelectedPrice","option","find","opt","calculateExpiryTime","baseTime","dayjs","add","uploadProps","beforeUpload","file","type","startsWith","message","size","onRemove","onPreview","url","URL","createObjectURL","originFileObj","_jsx","LoadingSpinner","className","role","children","Card","Alert","description","showIcon","style","padding","maxWidth","margin","background","minHeight","_jsxs","borderRadius","boxShadow","marginTop","level","textAlign","marginBottom","color","fontWeight","title","layout","onFinish","async","length","screenshotData","Promise","resolve","reader","FileReader","onload","result","readAsDataURL","formData","sales_code","link_code","tradingview_username","values","customer_wechat","duration","amount","payment_method","payment_time","format","purchase_type","effective_time","screenshot_data","alipay_amount","crypto_amount","createOrder","unwrap","success","resetFields","console","specificErrors","errorMessage","displayMessage","some","specificError","includes","Item","name","rules","required","Input","prefix","UserOutlined","placeholder","Radio","onChange","e","target","width","Row","gutter","map","Col","span","sm","md","disabled","height","opacity","fontSize","marginLeft","DatePicker","showTime","date","disabledDate","current","startOf","toFixed","Space","direction","strong","copyable","alipay_account","alipay_surname","display","alipay_qr_code","Image","src","objectFit","preview","border","alignItems","justifyContent","backgroundColor","addonAfter","crypto_chain_name","crypto_address","crypto_qr_code","endOf","validateStatus","help","Upload","listType","Button","icon","UploadOutlined","tabIndex","borderColor","Statistic","ClockCircleOutlined","DollarOutlined","suffix","valueStyle","undefined","htmlType","block","status","Modal","open","footer","onCancel","top","visible","onVisibleChange"],"sourceRoot":""}