{"version":3,"file":"static/js/421.ae8a08b0.chunk.js","mappings":"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","sources":["pages/PrimarySalesSettlementPage.js","../node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, Row, Col, Statistic, Table, Button, Modal, Form, Input, Select, message, Tag, Space, Tooltip, Typography, InputNumber, DatePicker } from 'antd';\nimport { DollarOutlined, UserOutlined, ShoppingCartOutlined, TeamOutlined, ExclamationCircleOutlined, SearchOutlined } from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPrimarySalesStats, fetchPrimarySalesOrders, updateSecondarySalesCommission, removeSecondarySales, getPrimarySalesSettlement } from '../store/slices/salesSlice';\n\nconst { Option } = Select;\nconst { Title } = Typography;\n\nconst PrimarySalesSettlementPage = () => {\n  const dispatch = useDispatch();\n  const { loading } = useSelector(state => state.sales);\n  \n  // é¡µé¢çŠ¶æ€ç®¡ç†\n  const [salesData, setSalesData] = useState(null);\n  const [primarySalesStats, setPrimarySalesStats] = useState(null);\n  const [primarySalesOrders, setPrimarySalesOrders] = useState(null);\n  const [searchForm] = Form.useForm();\n  const [commissionModalVisible, setCommissionModalVisible] = useState(false);\n  const [removeModalVisible, setRemoveModalVisible] = useState(false);\n  const [selectedSecondarySales, setSelectedSecondarySales] = useState(null);\n  const [commissionForm] = Form.useForm();\n  const [removeForm] = Form.useForm();\n  const [secondarySalesSearchForm] = Form.useForm();\n  const [ordersSearchForm] = Form.useForm();\n\n  // æœç´¢å¤„ç†å‡½æ•°\n  const handleSearch = async (values) => {\n    if (!values.wechat_name && !values.sales_code) {\n      message.error('è¯·è¾“å…¥å¾®ä¿¡å·æˆ–é”€å”®ä»£ç ');\n      return;\n    }\n\n    try {\n      // è°ƒç”¨çœŸå®API - ä¸€çº§é”€å”®å¯¹è´¦æŸ¥è¯¢\n      const params = {};\n      if (values.wechat_name) params.wechat_name = values.wechat_name;\n      if (values.sales_code) params.sales_code = values.sales_code;\n      \n      const response = await dispatch(getPrimarySalesSettlement(params)).unwrap();\n      \n      if (!response || !response.sales) {\n        message.error('æœªæ‰¾åˆ°åŒ¹é…çš„ä¸€çº§é”€å”®æ•°æ®');\n        return;\n      }\n      \n      const { sales, orders, secondarySales, reminderOrders, stats } = response;\n\n      // ä½¿ç”¨çœŸå®APIæ•°æ®ï¼Œç¡®ä¿æ‰€æœ‰è®¢å•éƒ½æ˜¯config_confirmed=trueçš„\n      const ordersData = {\n        data: orders || [],\n        total: orders ? orders.length : 0,\n        page: 1\n      };\n\n      // æ„å»ºç»Ÿè®¡æ•°æ®\n      const statsData = {\n        totalCommission: stats?.totalCommission || 0,\n        monthlyCommission: stats?.totalCommission || 0, // å¯æ ¹æ®éœ€è¦è®¡ç®—æœˆåº¦æ•°æ®\n        totalOrders: stats?.totalOrders || 0,\n        monthlyOrders: stats?.totalOrders || 0, // å¯æ ¹æ®éœ€è¦è®¡ç®—æœˆåº¦æ•°æ®\n        secondarySales: secondarySales || [],\n        pendingReminderCount: stats?.pendingReminderCount || 0,\n        monthlyReminderCount: stats?.pendingReminderCount || 0,\n        reminderSuccessRate: 85.0, // é»˜è®¤å€¼\n        avgResponseTime: 2.5, // é»˜è®¤å€¼\n        pendingReminderOrders: reminderOrders || []\n      };\n\n      setSalesData(sales);\n      setPrimarySalesStats(statsData);\n      setPrimarySalesOrders(ordersData);\n      \n      message.success('æŸ¥è¯¢æˆåŠŸ');\n    } catch (error) {\n      message.error('æŸ¥è¯¢å¤±è´¥');\n    }\n  };\n\n  // é‡ç½®æœç´¢\n  const handleReset = () => {\n    searchForm.resetFields();\n    setSalesData(null);\n    setPrimarySalesStats(null);\n    setPrimarySalesOrders(null);\n    message.info('å·²é‡ç½®æŸ¥è¯¢æ¡ä»¶');\n  };\n\n  // ä½£é‡‘ç»Ÿè®¡å¡ç‰‡\n  const renderStatsCards = () => (\n    <Row gutter={16} style={{ marginBottom: 24 }}>\n      <Col span={4}>\n        <Card>\n          <Statistic\n            title=\"æ€»ä½£é‡‘æ”¶å…¥\"\n            value={primarySalesStats?.totalCommission || 0}\n            precision={2}\n            valueStyle={{ color: '#3f8600' }}\n            prefix={<DollarOutlined />}\n            suffix=\"å…ƒ\"\n          />\n        </Card>\n      </Col>\n      <Col span={4}>\n        <Card>\n          <Statistic\n            title=\"æœ¬æœˆä½£é‡‘\"\n            value={primarySalesStats?.monthlyCommission || 0}\n            precision={2}\n            valueStyle={{ color: '#1890ff' }}\n            prefix={<DollarOutlined />}\n            suffix=\"å…ƒ\"\n          />\n        </Card>\n      </Col>\n      <Col span={4}>\n        <Card>\n          <Statistic\n            title=\"ä½£é‡‘æ¯”ç‡\"\n            value={(() => {\n              // æ–°çš„ä½£é‡‘æ¯”ç‡è®¡ç®—é€»è¾‘ï¼š\n              // ä½£é‡‘æ¯”ç‡ = ï¼ˆï¼ˆä¸€çº§é”€å”®çš„ç”¨æˆ·ä¸‹å•é‡‘é¢*40%ï¼‰+ï¼ˆäºŒçº§é”€å”®è®¢å•æ€»é‡‘é¢-äºŒçº§é”€å”®åˆ†ä½£æ¯”ç‡å¹³å‡å€¼*äºŒçº§é”€å”®è®¢å•æ€»é‡‘é¢ï¼‰ï¼‰/ï¼ˆäºŒçº§é”€å”®è®¢å•æ€»é‡‘é¢+ä¸€çº§é”€å”®çš„ç”¨æˆ·ä¸‹å•é‡‘é¢ï¼‰\n              \n              if (!primarySalesOrders?.data || primarySalesOrders.data.length === 0) {\n                return 40; // æ²¡æœ‰è®¢å•æ—¶ï¼Œæ˜¾ç¤º40%\n              }\n              \n              // è·å–æ‰€æœ‰è®¢å•ï¼ˆç§»é™¤é…ç½®ç¡®è®¤è¿‡æ»¤ï¼‰\n              const confirmedOrders = primarySalesOrders.data;\n              \n              if (confirmedOrders.length === 0) {\n                return 40; // æ²¡æœ‰é…ç½®ç¡®è®¤çš„è®¢å•æ—¶ï¼Œæ˜¾ç¤º40%\n              }\n              \n              // 1. è®¡ç®—ä¸€çº§é”€å”®çš„ç”¨æˆ·ä¸‹å•é‡‘é¢ï¼ˆæ²¡æœ‰secondary_sales_nameçš„è®¢å•ï¼‰\n              const primaryDirectOrders = confirmedOrders.filter(order => !order.secondary_sales_name);\n              const primaryDirectAmount = primaryDirectOrders.reduce((sum, order) => sum + order.amount, 0);\n              \n              // 2. è®¡ç®—äºŒçº§é”€å”®è®¢å•æ€»é‡‘é¢\n              const secondaryOrders = confirmedOrders.filter(order => order.secondary_sales_name);\n              const secondaryTotalAmount = secondaryOrders.reduce((sum, order) => sum + order.amount, 0);\n              \n              // 3. è®¡ç®—äºŒçº§é”€å”®åˆ†ä½£æ¯”ç‡å¹³å‡å€¼\n              let averageSecondaryRate = 0;\n              if (primarySalesStats?.secondarySales && primarySalesStats.secondarySales.length > 0) {\n                const secondaryRates = primarySalesStats.secondarySales.map(sales => sales.commission_rate);\n                averageSecondaryRate = secondaryRates.reduce((sum, rate) => sum + rate, 0) / secondaryRates.length;\n              }\n              \n              // 4. è®¡ç®—æ€»è®¢å•é‡‘é¢\n              const totalOrderAmount = primaryDirectAmount + secondaryTotalAmount;\n              \n              if (totalOrderAmount === 0) {\n                return 40; // æ€»é‡‘é¢ä¸º0æ—¶ï¼Œæ˜¾ç¤º40%\n              }\n              \n              // 5. è®¡ç®—ä¸€çº§é”€å”®æ€»ä½£é‡‘\n              const primaryDirectCommission = primaryDirectAmount * 0.40; // ä¸€çº§é”€å”®ç›´æ¥ç”¨æˆ·ä½£é‡‘ï¼š40%\n              const primaryFromSecondaryCommission = secondaryTotalAmount * ((40 - averageSecondaryRate * 100) / 100); // ä¸€çº§é”€å”®ä»äºŒçº§é”€å”®è·å¾—çš„ä½£é‡‘ï¼š(40%-äºŒçº§é”€å”®å¹³å‡ä½£é‡‘ç‡)\n              const totalPrimaryCommission = primaryDirectCommission + primaryFromSecondaryCommission;\n              \n              // 6. è®¡ç®—ä¸€çº§é”€å”®ä½£é‡‘æ¯”ç‡\n              const primaryCommissionRate = (totalPrimaryCommission / totalOrderAmount) * 100;\n              \n              return primaryCommissionRate.toFixed(1);\n            })()}\n            valueStyle={{ color: '#52c41a', fontSize: '20px', fontWeight: 'bold' }}\n            prefix={<DollarOutlined />}\n            suffix=\"%\"\n          />\n        </Card>\n      </Col>\n      <Col span={6}>\n        <Card>\n          <Statistic\n            title=\"äºŒçº§é”€å”®æ•°é‡\"\n            value={primarySalesStats?.secondarySales?.length || 0}\n            valueStyle={{ color: '#722ed1' }}\n            prefix={<TeamOutlined />}\n            suffix=\"äºº\"\n          />\n        </Card>\n      </Col>\n      <Col span={6}>\n        <Card>\n          <Statistic\n            title=\"æ€»è®¢å•æ•°\"\n            value={primarySalesStats?.totalOrders || 0}\n            valueStyle={{ color: '#fa8c16' }}\n            prefix={<ShoppingCartOutlined />}\n            suffix=\"å•\"\n          />\n        </Card>\n      </Col>\n    </Row>\n  );\n\n  // è®¢å•åˆ—è¡¨è¡¨æ ¼åˆ—å®šä¹‰\n  const orderColumns = [\n    {\n      title: 'è®¢å•ID',\n      dataIndex: 'id',\n      key: 'id',\n      width: 80,\n    },\n    {\n      title: 'å®¢æˆ·å¾®ä¿¡',\n      dataIndex: 'customer_wechat',\n      key: 'customer_wechat',\n      width: 120,\n    },\n    {\n      title: 'TradingViewç”¨æˆ·å',\n      dataIndex: 'tradingview_username',\n      key: 'tradingview_username',\n      width: 150,\n    },\n    {\n      title: 'å¥—é¤ç±»å‹',\n      dataIndex: 'duration',\n      key: 'duration',\n      width: 100,\n      render: (duration) => {\n        const durationMap = {\n          '1month': '1ä¸ªæœˆ',\n          '3months': '3ä¸ªæœˆ',\n          '1year': '1å¹´'\n        };\n        return durationMap[duration] || duration;\n      }\n    },\n    {\n      title: 'è®¢å•é‡‘é¢',\n      dataIndex: 'amount',\n      key: 'amount',\n      width: 100,\n      render: (amount) => {\n        const value = parseFloat(amount || 0);\n        return `$${value.toFixed(2)}`;\n      }\n    },\n    {\n      title: 'ä½£é‡‘é‡‘é¢',\n      dataIndex: 'commission_amount',\n      key: 'commission_amount',\n      width: 100,\n      render: (commission) => {\n        const value = parseFloat(commission || 0);\n        return `$${value.toFixed(2)}`;\n      }\n    },\n    {\n      title: 'äºŒçº§é”€å”®',\n      dataIndex: 'secondary_sales_name',\n      key: 'secondary_sales_name',\n      width: 120,\n      render: (name) => name || 'ç›´æ¥é”€å”®'\n    },\n    {\n      title: 'è®¢å•çŠ¶æ€',\n      dataIndex: 'status',\n      key: 'status',\n      width: 100,\n      render: (status) => {\n        const statusMap = {\n          'pending_review': { text: 'å¾…å®¡æ ¸', color: 'orange' },\n          'pending_payment': { text: 'å¾…ä»˜æ¬¾ç¡®è®¤', color: 'orange' },\n          'confirmed_payment': { text: 'å·²ä»˜æ¬¾ç¡®è®¤', color: 'blue' },\n          'pending_config': { text: 'å¾…é…ç½®ç¡®è®¤', color: 'purple' },\n          'confirmed_configuration': { text: 'å·²é…ç½®ç¡®è®¤', color: 'green' },\n          'confirmed': { text: 'å·²ç¡®è®¤', color: 'green' },\n          'approved': { text: 'å·²é€šè¿‡', color: 'green' },\n          'rejected': { text: 'å·²æ‹’ç»', color: 'red' },\n          'completed': { text: 'å·²å®Œæˆ', color: 'blue' },\n          'active': { text: 'å·²ç”Ÿæ•ˆ', color: 'green' },\n          'expired': { text: 'å·²è¿‡æœŸ', color: 'gray' },\n          'cancelled': { text: 'å·²å–æ¶ˆ', color: 'red' }\n        };\n        const statusInfo = statusMap[status] || { text: status, color: 'default' };\n        return <Tag color={statusInfo.color}>{statusInfo.text}</Tag>;\n      }\n    },\n    {\n      title: 'åˆ›å»ºæ—¶é—´',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      width: 150,\n      render: (date) => {\n        if (!date) return '-';\n        const dateObj = new Date(date);\n        if (isNaN(dateObj.getTime())) return '-';\n        return dateObj.toLocaleString('zh-CN');\n      }\n    },\n    {\n      title: 'æ“ä½œ',\n      key: 'action',\n      width: 120,\n      render: (_, record) => (\n        <Space size=\"small\">\n          <Button \n            type=\"primary\"\n            size=\"small\"\n            onClick={() => handleUrgeOrder(record)}\n            disabled={record.status === 'cancelled' || record.status === 'refunded'}\n          >\n            å‚¬å•\n          </Button>\n        </Space>\n      )\n    }\n  ];\n\n  // äºŒçº§é”€å”®åˆ—è¡¨è¡¨æ ¼åˆ—å®šä¹‰\n  const secondarySalesColumns = [\n    {\n      title: 'å¾®ä¿¡å·',\n      dataIndex: 'wechat_name',\n      key: 'wechat_name',\n      width: 120,\n    },\n    {\n      title: 'æ”¶æ¬¾æ–¹å¼',\n      dataIndex: 'payment_method',\n      key: 'payment_method',\n      width: 100,\n      render: (method) => {\n        const methodMap = {\n          'alipay': 'æ”¯ä»˜å®',\n          'wechat': 'å¾®ä¿¡',\n          'crypto': 'åŠ å¯†è´§å¸'\n        };\n        return methodMap[method] || method || '-';\n      }\n    },\n    {\n      title: 'æ€»è®¢å•é‡‘é¢',\n      dataIndex: 'total_amount',\n      key: 'total_amount',\n      width: 120,\n      render: (amount) => {\n        const value = parseFloat(amount || 0);\n        return `$${value.toFixed(2)}`;\n      }\n    },\n    {\n      title: 'å½“å‰ä½£é‡‘ç‡',\n      dataIndex: 'commission_rate',\n      key: 'commission_rate',\n      width: 100,\n      render: (rate) => `${(rate * 100).toFixed(1)}%`\n    },\n    {\n      title: 'ç´¯è®¡ä½£é‡‘',\n      dataIndex: 'total_commission',\n      key: 'total_commission',\n      width: 100,\n      render: (commission) => {\n        const value = parseFloat(commission || 0);\n        return `$${value.toFixed(2)}`;\n      }\n    },\n    {\n      title: 'è®¢å•æ•°é‡',\n      dataIndex: 'order_count',\n      key: 'order_count',\n      width: 100,\n      render: (count) => count || 0,\n    },\n    {\n      title: 'æ³¨å†Œæ—¶é—´',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      width: 150,\n      render: (date) => {\n        if (!date) return '-';\n        const dateObj = new Date(date);\n        if (isNaN(dateObj.getTime())) return '-';\n        return dateObj.toLocaleString('zh-CN');\n      }\n    },\n    {\n      title: 'æ“ä½œ',\n      key: 'action',\n      width: 200,\n      render: (_, record) => (\n        <Space size=\"small\">\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={() => handleUpdateCommission(record)}\n          >\n            è®¾ç½®ä½£é‡‘\n          </Button>\n          <Button \n            type=\"default\" \n            size=\"small\"\n            danger\n            onClick={() => handleRemoveSecondarySales(record)}\n          >\n            ç§»é™¤\n          </Button>\n        </Space>\n      )\n    }\n  ];\n\n  // å¤„ç†æ›´æ–°ä½£é‡‘ç‡\n  const handleUpdateCommission = (secondarySales) => {\n    setSelectedSecondarySales(secondarySales);\n    commissionForm.setFieldsValue({\n      commission_rate: secondarySales.commission_rate * 100\n    });\n    setCommissionModalVisible(true);\n  };\n\n  // æäº¤ä½£é‡‘ç‡æ›´æ–°\n  const handleCommissionSubmit = async () => {\n    try {\n      const values = await commissionForm.validateFields();\n      const commissionRate = values.commission_rate / 100;\n      \n      // æ¨¡æ‹Ÿæ›´æ–°æœ¬åœ°æ•°æ®\n      if (primarySalesStats && primarySalesStats.secondarySales) {\n        const updatedSecondarySales = primarySalesStats.secondarySales.map(sales => {\n          if (sales.id === selectedSecondarySales.id) {\n            return {\n              ...sales,\n              commission_rate: commissionRate\n            };\n          }\n          return sales;\n        });\n        \n        setPrimarySalesStats({\n          ...primarySalesStats,\n          secondarySales: updatedSecondarySales\n        });\n      }\n      \n      message.success('ä½£é‡‘ç‡æ›´æ–°æˆåŠŸ');\n      setCommissionModalVisible(false);\n      commissionForm.resetFields();\n    } catch (error) {\n      message.error('ä½£é‡‘ç‡æ›´æ–°å¤±è´¥: ' + (error.message || error));\n    }\n  };\n\n  // å¤„ç†ç§»é™¤äºŒçº§é”€å”®\n  const handleRemoveSecondarySales = (secondarySales) => {\n    setSelectedSecondarySales(secondarySales);\n    setRemoveModalVisible(true);\n  };\n\n  // ç¡®è®¤ç§»é™¤äºŒçº§é”€å”®\n  const handleRemoveConfirm = async () => {\n    try {\n      await dispatch(removeSecondarySales({\n        secondarySalesId: selectedSecondarySales.id,\n        reason: 'ä¸€çº§é”€å”®ä¸»åŠ¨ç§»é™¤'\n      })).unwrap();\n      message.success('äºŒçº§é”€å”®ç§»é™¤æˆåŠŸ');\n      setRemoveModalVisible(false);\n      \n      // åˆ·æ–°æ•°æ®\n      if (salesData) {\n        handleSearch();\n      }\n    } catch (error) {\n      message.error('ç§»é™¤å¤±è´¥: ' + (error.message || error));\n    }\n  };\n\n  // å¤„ç†å‚¬å•\n  const handleUrgeOrder = (order) => {\n    Modal.confirm({\n      title: 'ç¡®è®¤å‚¬å•',\n      content: `ç¡®å®šè¦å‘å®¢æˆ· ${order.customer_wechat} å‘é€å‚¬å•æé†’å—ï¼Ÿ`,\n      onOk: async () => {\n        try {\n          // è¿™é‡Œéœ€è¦è°ƒç”¨å‚¬å•API\n          message.success('å‚¬å•æé†’å·²å‘é€');\n        } catch (error) {\n          message.error('å‚¬å•å¤±è´¥');\n        }\n      }\n    });\n  };\n\n  // äºŒçº§é”€å”®æœç´¢å¤„ç†\n  const handleSecondarySalesSearch = (values) => {\n    if (values.payment_date_range) {\n      const [startDate, endDate] = values.payment_date_range;\n      message.info(`æœç´¢ä»˜æ¬¾æ—¶é—´: ${startDate.format('YYYY-MM-DD')} è‡³ ${endDate.format('YYYY-MM-DD')}`);\n      // è¿™é‡Œåº”è¯¥è°ƒç”¨APIè¿›è¡Œç­›é€‰\n    } else {\n      // é‡ç½®æœç´¢ï¼Œæ˜¾ç¤ºå…¨éƒ¨æ•°æ®\n      message.info('æ˜¾ç¤ºå…¨éƒ¨äºŒçº§é”€å”®æ•°æ®');\n    }\n  };\n\n  // è®¢å•æœç´¢å¤„ç†\n  const handleOrdersSearch = (values) => {\n    if (values.payment_date_range) {\n      const [startDate, endDate] = values.payment_date_range;\n      message.info(`æœç´¢ä»˜æ¬¾æ—¶é—´: ${startDate.format('YYYY-MM-DD')} è‡³ ${endDate.format('YYYY-MM-DD')}`);\n      // è¿™é‡Œåº”è¯¥è°ƒç”¨APIè¿›è¡Œç­›é€‰\n    } else {\n      // é‡ç½®æœç´¢ï¼Œæ˜¾ç¤ºå…¨éƒ¨æ•°æ®\n      message.info('æ˜¾ç¤ºå…¨éƒ¨è®¢å•æ•°æ®');\n    }\n  };\n\n  return (\n    <div style={{ padding: 24 }}>\n      <Title level={2} style={{ marginBottom: 24 }}>ä¸€çº§é”€å”®åˆ†é”€ç®¡ç†å’Œå¯¹è´¦</Title>\n      \n      {/* æœç´¢æŸ¥è¯¢åŠŸèƒ½ */}\n      <Card title=\"æŸ¥è¯¢ä¸€çº§é”€å”®ä¿¡æ¯\" style={{ marginBottom: 24 }}>\n        <Form form={searchForm} layout=\"inline\" onFinish={handleSearch}>\n          <Form.Item name=\"wechat_name\" label=\"å¾®ä¿¡å·\">\n            <Input \n              placeholder=\"è¯·è¾“å…¥å¾®ä¿¡å·\" \n              style={{ width: 200 }}\n              allowClear\n              prefix={<UserOutlined />}\n            />\n          </Form.Item>\n          <Form.Item name=\"sales_code\" label=\"é”€å”®ä»£ç \">\n            <Input \n              placeholder=\"è¯·è¾“å…¥é”€å”®ä»£ç \" \n              style={{ width: 200 }}\n              allowClear\n            />\n          </Form.Item>\n          <Form.Item>\n            <Space>\n              <Button \n                type=\"primary\" \n                htmlType=\"submit\"\n                icon={<SearchOutlined />}\n              >\n                æŸ¥è¯¢\n              </Button>\n              <Button onClick={handleReset}>\n                é‡ç½®\n              </Button>\n            </Space>\n          </Form.Item>\n        </Form>\n        \n        <div style={{ marginTop: 16, color: '#666', fontSize: '14px' }}>\n          ğŸ’¡ æç¤ºï¼šè¾“å…¥ä¸€çº§é”€å”®çš„å¾®ä¿¡å·æˆ–é”€å”®ä»£ç ï¼ŒæŸ¥çœ‹è¯¥é”€å”®çš„åˆ†é”€æ•°æ®å’Œä½£é‡‘å¯¹è´¦ä¿¡æ¯\n        </div>\n      </Card>\n      \n      {/* æŸ¥è¯¢å‰æç¤º */}\n      {!salesData && (\n        <Card style={{ marginBottom: 24, textAlign: 'center', background: '#f8f9fa' }}>\n          <div style={{ padding: '40px 20px' }}>\n            <UserOutlined style={{ fontSize: '48px', color: '#ccc', marginBottom: 16 }} />\n            <h3 style={{ color: '#666', marginBottom: 8 }}>è¯·å…ˆæŸ¥è¯¢ä¸€çº§é”€å”®ä¿¡æ¯</h3>\n            <p style={{ color: '#999', margin: 0 }}>\n              è¾“å…¥ä¸€çº§é”€å”®çš„å¾®ä¿¡å·æˆ–é”€å”®ä»£ç ï¼Œå³å¯æŸ¥çœ‹åˆ†é”€æ•°æ®ã€ä½£é‡‘å¯¹è´¦å’Œå‚¬å•ä¿¡æ¯\n            </p>\n          </div>\n        </Card>\n      )}\n\n      {/* åªæœ‰æœç´¢åˆ°æ•°æ®åæ‰æ˜¾ç¤ºä»¥ä¸‹å†…å®¹ */}\n      {salesData && (\n        <>\n          \n          {/* ç»Ÿè®¡å¡ç‰‡ */}\n          {renderStatsCards()}\n\n          {/* äºŒçº§é”€å”®ç®¡ç† */}\n          <Card title=\"äºŒçº§é”€å”®ç®¡ç†\" style={{ marginBottom: 24 }}>\n            {/* äºŒçº§é”€å”®æœç´¢ */}\n            <div style={{ marginBottom: 16, padding: '16px', backgroundColor: '#fafafa', borderRadius: '6px' }}>\n              <Form form={secondarySalesSearchForm} layout=\"inline\" onFinish={handleSecondarySalesSearch}>\n                <Form.Item name=\"payment_date_range\" label=\"ä»˜æ¬¾æ—¶é—´\">\n                  <DatePicker.RangePicker \n                    style={{ width: 240 }}\n                    placeholder={['å¼€å§‹æ—¶é—´', 'ç»“æŸæ—¶é—´']}\n                    format=\"YYYY-MM-DD\"\n                  />\n                </Form.Item>\n                <Form.Item>\n                  <Space>\n                    <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />}>\n                      æœç´¢\n                    </Button>\n                    <Button onClick={() => {\n                      secondarySalesSearchForm.resetFields();\n                      handleSecondarySalesSearch({});\n                    }}>\n                      é‡ç½®\n                    </Button>\n                  </Space>\n                </Form.Item>\n              </Form>\n            </div>\n        <Table\n          columns={secondarySalesColumns}\n          dataSource={primarySalesStats?.secondarySales || []}\n          rowKey=\"id\"\n          loading={loading}\n          pagination={{\n            pageSize: 10,\n            showSizeChanger: true,\n            showQuickJumper: true,\n            showTotal: (total) => `å…± ${total} æ¡è®°å½•`\n          }}\n        />\n      </Card>\n\n      {/* è®¢å•åˆ—è¡¨ */}\n      <Card title=\"æˆ‘çš„è®¢å•åˆ—è¡¨\" style={{ marginBottom: 24 }}>\n        {/* è®¢å•æœç´¢ */}\n        <div style={{ marginBottom: 16, padding: '16px', backgroundColor: '#fafafa', borderRadius: '6px' }}>\n          <Form form={ordersSearchForm} layout=\"inline\" onFinish={handleOrdersSearch}>\n            <Form.Item name=\"payment_date_range\" label=\"ä»˜æ¬¾æ—¶é—´\">\n              <DatePicker.RangePicker \n                style={{ width: 240 }}\n                placeholder={['å¼€å§‹æ—¶é—´', 'ç»“æŸæ—¶é—´']}\n                format=\"YYYY-MM-DD\"\n              />\n            </Form.Item>\n            <Form.Item>\n              <Space>\n                <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />}>\n                  æœç´¢\n                </Button>\n                <Button onClick={() => {\n                  ordersSearchForm.resetFields();\n                  handleOrdersSearch({});\n                }}>\n                  é‡ç½®\n                </Button>\n              </Space>\n            </Form.Item>\n          </Form>\n        </div>\n        <Table\n          columns={orderColumns}\n          dataSource={primarySalesOrders?.data || []}\n          rowKey=\"id\"\n          loading={loading}\n          pagination={{\n            pageSize: 10,\n            showSizeChanger: true,\n            showQuickJumper: true,\n            showTotal: (total) => `å…± ${total} æ¡è®°å½•`,\n            current: primarySalesOrders?.page || 1,\n            total: primarySalesOrders?.total || 0\n          }}\n        />\n      </Card>\n\n      {/* å‚¬å•åŠŸèƒ½ç‰ˆå— */}\n      <Card title=\"å‚¬å•æ•°æ®ç»Ÿè®¡\" style={{ marginBottom: 24 }}>\n        <Row gutter={16} style={{ marginBottom: 16 }}>\n          <Col span={8}>\n            <Card>\n              <Statistic\n                title=\"å¾…å‚¬å•å®¢æˆ·æ•°\"\n                value={primarySalesStats?.pendingReminderCount || 0}\n                prefix={<ExclamationCircleOutlined />}\n                valueStyle={{ color: '#faad14' }}\n                suffix=\"ä¸ª\"\n              />\n            </Card>\n          </Col>\n        </Row>\n\n        {/* å¾…å‚¬å•å®¢æˆ·åˆ—è¡¨ */}\n        <Table\n          title={() => \"å¾…å‚¬å•è®¢å•åˆ—è¡¨\"}\n          columns={[\n            {\n              title: 'é”€å”®å¾®ä¿¡å·',\n              dataIndex: 'sales_wechat',\n              key: 'sales_wechat',\n              width: 120,\n            },\n            {\n              title: 'å®¢æˆ·å¾®ä¿¡å·',\n              dataIndex: 'customer_wechat',\n              key: 'customer_wechat',\n              width: 120,\n            },\n            {\n              title: 'TradingViewç”¨æˆ·',\n              dataIndex: 'tradingview_username',\n              key: 'tradingview_username',\n              width: 150,\n            },\n            {\n              title: 'è®¢å•é‡‘é¢',\n              dataIndex: 'amount',\n              key: 'amount',\n              width: 100,\n              render: (amount) => {\n                const value = parseFloat(amount || 0);\n                return `$${value.toFixed(2)}`;\n              },\n            },\n            {\n              title: 'åˆ°æœŸæ—¶é—´',\n              dataIndex: 'expiry_time',\n              key: 'expiry_time',\n              width: 120,\n              render: (time) => time ? new Date(time).toLocaleDateString() : '-',\n            },\n            {\n              title: 'å‚¬å•çŠ¶æ€',\n              dataIndex: 'reminder_status',\n              key: 'reminder_status',\n              width: 100,\n              render: (status) => (\n                <Tag color={status ? 'green' : 'orange'}>\n                  {status ? 'å·²å‚¬å•' : 'å¾…å‚¬å•'}\n                </Tag>\n              ),\n            },\n\n          ]}\n          dataSource={primarySalesStats?.pendingReminderOrders || []}\n          rowKey=\"id\"\n          loading={loading}\n          pagination={{\n            pageSize: 10,\n            showSizeChanger: true,\n            showQuickJumper: true,\n            showTotal: (total, range) => `æ˜¾ç¤º ${range[0]}-${range[1]} æ¡ï¼Œå…± ${total} æ¡è®°å½•`,\n            pageSizeOptions: ['5', '10', '20', '50']\n          }}\n        />\n      </Card>\n\n          {/* ä½£é‡‘ç‡è®¾ç½®æ¨¡æ€æ¡† */}\n      <Modal\n        title=\"è®¾ç½®ä½£é‡‘ç‡\"\n        open={commissionModalVisible}\n        onOk={handleCommissionSubmit}\n        onCancel={() => {\n          setCommissionModalVisible(false);\n          commissionForm.resetFields();\n        }}\n        okText=\"ç¡®å®š\"\n        cancelText=\"å–æ¶ˆ\"\n      >\n        <Form form={commissionForm} layout=\"vertical\">\n          <Form.Item\n            label=\"äºŒçº§é”€å”®å¾®ä¿¡å·\"\n          >\n            <Input \n              value={selectedSecondarySales?.wechat_name} \n              disabled \n            />\n          </Form.Item>\n          <Form.Item\n            name=\"commission_rate\"\n            label=\"ä½£é‡‘ç‡ (%)\"\n            rules={[\n              { required: true, message: 'è¯·è¾“å…¥ä½£é‡‘ç‡' },\n              { type: 'number', min: 0, max: 100, message: 'ä½£é‡‘ç‡å¿…é¡»åœ¨0-100%ä¹‹é—´' }\n            ]}\n          >\n            <InputNumber \n              min={0} \n              max={100} \n              precision={2}\n              placeholder=\"è¯·è¾“å…¥ä½£é‡‘ç‡\" \n              style={{ width: '100%' }}\n              formatter={value => `${value}`}\n              parser={value => value?.replace('%', '')}\n            />\n          </Form.Item>\n        </Form>\n      </Modal>\n\n      {/* ç§»é™¤ç¡®è®¤æ¨¡æ€æ¡† */}\n      <Modal\n        title=\"ç¡®è®¤ç§»é™¤\"\n        open={removeModalVisible}\n        onOk={handleRemoveConfirm}\n        onCancel={() => setRemoveModalVisible(false)}\n        okText=\"ç¡®å®šç§»é™¤\"\n        cancelText=\"å–æ¶ˆ\"\n        okButtonProps={{ danger: true }}\n      >\n        <p>\n          ç¡®å®šè¦ç§»é™¤äºŒçº§é”€å”® <strong>{selectedSecondarySales?.wechat_name}</strong> å—ï¼Ÿ\n        </p>\n        <p style={{ color: '#ff4d4f' }}>\n          <ExclamationCircleOutlined /> ç§»é™¤åå°†æ— æ³•æ¢å¤ï¼Œè¯¥äºŒçº§é”€å”®çš„æ‰€æœ‰è®¢å•å°†è½¬ä¸ºç›´æ¥é”€å”®ã€‚\n        </p>\n      </Modal>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PrimarySalesSettlementPage; ","// This icon file is generated automatically.\nvar ExclamationCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"outlined\" };\nexport default ExclamationCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport ExclamationCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar ExclamationCircleOutlined = function ExclamationCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: ExclamationCircleOutlinedSvg\n  }));\n};\n\n/**![exclamation-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PHBhdGggZD0iTTQ2NCA2ODhhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0yNC0xMTJoNDhjNC40IDAgOC0zLjYgOC04VjI5NmMwLTQuNC0zLjYtOC04LThoLTQ4Yy00LjQgMC04IDMuNi04IDh2MjcyYzAgNC40IDMuNiA4IDggOHoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(ExclamationCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ExclamationCircleOutlined';\n}\nexport default RefIcon;"],"names":["Option","Select","Title","Typography","PrimarySalesSettlementPage","dispatch","useDispatch","loading","useSelector","state","sales","salesData","setSalesData","useState","primarySalesStats","setPrimarySalesStats","primarySalesOrders","setPrimarySalesOrders","searchForm","Form","useForm","commissionModalVisible","setCommissionModalVisible","removeModalVisible","setRemoveModalVisible","selectedSecondarySales","setSelectedSecondarySales","commissionForm","removeForm","secondarySalesSearchForm","ordersSearchForm","handleSearch","async","values","wechat_name","sales_code","params","response","getPrimarySalesSettlement","unwrap","message","error","orders","secondarySales","reminderOrders","stats","ordersData","data","total","length","page","statsData","totalCommission","monthlyCommission","totalOrders","monthlyOrders","pendingReminderCount","monthlyReminderCount","reminderSuccessRate","avgResponseTime","pendingReminderOrders","success","orderColumns","title","dataIndex","key","width","render","duration","amount","parseFloat","toFixed","commission","name","status","statusInfo","text","color","_jsx","Tag","children","date","dateObj","Date","isNaN","getTime","toLocaleString","_","record","Space","size","Button","type","onClick","handleUrgeOrder","disabled","secondarySalesColumns","method","rate","count","_jsxs","handleUpdateCommission","danger","handleRemoveSecondarySales","setFieldsValue","commission_rate","order","Modal","confirm","content","customer_wechat","onOk","handleSecondarySalesSearch","payment_date_range","startDate","endDate","info","format","handleOrdersSearch","style","padding","level","marginBottom","Card","form","layout","onFinish","Item","label","Input","placeholder","allowClear","prefix","UserOutlined","htmlType","icon","SearchOutlined","handleReset","resetFields","marginTop","fontSize","textAlign","background","margin","_Fragment","renderStatsCards","_primarySalesStats$se","Row","gutter","Col","span","Statistic","value","precision","valueStyle","DollarOutlined","suffix","confirmedOrders","primaryDirectAmount","filter","secondary_sales_name","reduce","sum","secondaryTotalAmount","averageSecondaryRate","secondaryRates","map","totalOrderAmount","fontWeight","TeamOutlined","ShoppingCartOutlined","backgroundColor","borderRadius","DatePicker","RangePicker","Table","columns","dataSource","rowKey","pagination","pageSize","showSizeChanger","showQuickJumper","showTotal","current","ExclamationCircleOutlined","time","toLocaleDateString","range","pageSizeOptions","open","commissionRate","validateFields","updatedSecondarySales","id","onCancel","okText","cancelText","rules","required","min","max","InputNumber","formatter","parser","replace","removeSecondarySales","secondarySalesId","reason","okButtonProps","props","ref","React","AntdIcon","_extends","ExclamationCircleOutlinedSvg"],"sourceRoot":""}