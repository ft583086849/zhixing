# ğŸ“ åˆ é™¤nameå­—æ®µåçš„å‰ç«¯ä»£ç ä¿®æ”¹æ¸…å•

## éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶å’Œä½ç½®

### 1. **client/src/services/api.js**

#### ä¿®æ”¹ä½ç½®1ï¼šç¬¬461è¡Œ
```javascript
// åŸä»£ç ï¼ˆé”™è¯¯çš„å¤‡é€‰é€»è¾‘ï¼‰
const wechatName = sale.wechat_name || sale.name || sale.phone || `ä¸€çº§é”€å”®-${sale.sales_code}`;

// ä¿®æ”¹ä¸ºï¼ˆåˆ é™¤nameå¤‡é€‰ï¼‰
const wechatName = sale.wechat_name || sale.phone || `ä¸€çº§é”€å”®-${sale.sales_code}`;
```

#### ä¿®æ”¹ä½ç½®2ï¼šç¬¬327è¡Œå’Œç¬¬342è¡Œ
```javascript
// åŸä»£ç ï¼ˆè¿ç§»å†å²æ•°æ®æ—¶çš„å¤‡é€‰ï¼‰
const wechatName = sale.name || sale.phone || `é”€å”®_${sale.sales_code}`;

// ä¿®æ”¹ä¸º
const wechatName = sale.phone || `é”€å”®_${sale.sales_code}`;
```

#### ä¿®æ”¹ä½ç½®3ï¼šç¬¬569è¡Œ
```javascript
// åŸä»£ç 
const wechatName = sale.wechat_name || sale.name || sale.phone || `äºŒçº§é”€å”®-${sale.sales_code}`;

// ä¿®æ”¹ä¸º
const wechatName = sale.wechat_name || sale.phone || `äºŒçº§é”€å”®-${sale.sales_code}`;
```

### 2. **client/src/services/supabase.js**

#### ä¿®æ”¹ä½ç½®1ï¼šç¬¬522-523è¡Œï¼Œç¬¬530è¡Œï¼Œç¬¬536è¡Œ
```javascript
// åŸä»£ç ï¼ˆæŸ¥è¯¢æ—¶åŒ…å«nameå­—æ®µï¼‰
.select('id, sales_code, name, wechat_name, phone')

// ä¿®æ”¹ä¸ºï¼ˆç§»é™¤nameå­—æ®µï¼‰
.select('id, sales_code, wechat_name, phone')
```

#### ä¿®æ”¹ä½ç½®2ï¼šç¬¬615è¡Œ
```javascript
// åŸä»£ç 
order.sales_name = salesInfo.name || '-';

// å¯ä»¥åˆ é™¤è¿™ä¸€è¡Œï¼Œæˆ–æ”¹ä¸º
order.sales_name = '-';  // ä¿ç•™å­—æ®µä½†å§‹ç»ˆä¸ºç©º
```

#### ä¿®æ”¹ä½ç½®3ï¼šç¬¬618è¡Œ
```javascript
// åŸä»£ç 
console.log(`è®¢å• ${order.order_number} å…³è”${salesType}é”€å”®:`, salesInfo.name);

// ä¿®æ”¹ä¸º
console.log(`è®¢å• ${order.order_number} å…³è”${salesType}é”€å”®:`, salesInfo.wechat_name);
```

### 3. **å…¶ä»–è¯Šæ–­å’Œæµ‹è¯•æ–‡ä»¶**

è¿™äº›æ–‡ä»¶ä¸­çš„ `sale.name` å¼•ç”¨å¯ä»¥ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯è¯Šæ–­å·¥å…·ï¼š
- ğŸ”è¯Šæ–­å…«å…«æµ‹è¯•å‘˜ç¡®è®¤è®¢å•é—®é¢˜.js
- ğŸ”è¯Šæ–­é”€å”®è„æ•°æ®é—®é¢˜.js
- ğŸ”§é‡æ–°è®¡ç®—é”€å”®è®¢å•æ•°æ®.js

## ğŸ¯ å…³é”®æ”¹åŠ¨æ€»ç»“

1. **ç§»é™¤æ‰€æœ‰æŠŠ `name` ä½œä¸ºå¾®ä¿¡å·å¤‡é€‰çš„é€»è¾‘**
2. **æŸ¥è¯¢æ—¶ä¸å†åŒ…å« `name` å­—æ®µ**
3. **æ—¥å¿—è¾“å‡ºæ”¹ä¸ºä½¿ç”¨ `wechat_name`**

## âš ï¸ æ³¨æ„äº‹é¡¹

- **ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½**ï¼šå› ä¸ºç³»ç»Ÿå·²ç»ä¸ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜
- **`wechat_name` æ˜¯å¿…å¡«å­—æ®µ**ï¼šæ–°åˆ›å»ºçš„é”€å”®è®°å½•éƒ½æœ‰ wechat_name
- **å†å²æ•°æ®å¤„ç†**ï¼šå¦‚æœæœ‰å†å²æ•°æ® wechat_name ä¸ºç©ºï¼Œä¼šæ˜¾ç¤ºä¸º "é”€å”®_XXX" æˆ–ä½¿ç”¨ç”µè¯å·ç 
