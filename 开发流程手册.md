# ğŸš€ å…¨æ ˆåº”ç”¨å¼€å‘æµç¨‹æ‰‹å†Œ

> åŸºäºæ•°æ®åº“è¿æ¥é—®é¢˜çš„ç»éªŒæ€»ç»“ä¸æ ‡å‡†åŒ–å¼€å‘æµç¨‹æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [é—®é¢˜å›é¡¾ä¸åˆ†æ](#é—®é¢˜å›é¡¾ä¸åˆ†æ)
2. [æ ‡å‡†å¼€å‘æµç¨‹](#æ ‡å‡†å¼€å‘æµç¨‹)
3. [ç¯å¢ƒç®¡ç†è§„èŒƒ](#ç¯å¢ƒç®¡ç†è§„èŒƒ)
4. [ä»£ç å¼€å‘è§„èŒƒ](#ä»£ç å¼€å‘è§„èŒƒ)
5. [æµ‹è¯•ç­–ç•¥](#æµ‹è¯•ç­–ç•¥)
6. [éƒ¨ç½²æµç¨‹](#éƒ¨ç½²æµç¨‹)
7. [ç›‘æ§ä¸è¿ç»´](#ç›‘æ§ä¸è¿ç»´)
8. [å›¢é˜Ÿåä½œè§„èŒƒ](#å›¢é˜Ÿåä½œè§„èŒƒ)
9. [å·¥å…·é“¾ä¸æœ€ä½³å®è·µ](#å·¥å…·é“¾ä¸æœ€ä½³å®è·µ)
10. [åº”æ€¥é¢„æ¡ˆ](#åº”æ€¥é¢„æ¡ˆ)

---

## ğŸ” é—®é¢˜å›é¡¾ä¸åˆ†æ

### å½“å‰é¡¹ç›®æš´éœ²çš„é—®é¢˜

#### âŒ **1. ç¯å¢ƒå˜é‡ç®¡ç†æ··ä¹±**
```bash
# é—®é¢˜ï¼šåŒä¸€é¡¹ç›®ä½¿ç”¨ä¸¤å¥—ä¸åŒçš„å‘½åè§„åˆ™
# Serverç«¯
DB_HOST, DB_USER, DB_PASSWORD, DB_NAME

# APIç«¯
DATABASE_HOST, DATABASE_USERNAME, DATABASE_PASSWORD, DATABASE_NAME
```

**æ•™è®­**ï¼šç¯å¢ƒå˜é‡å‘½åå¿…é¡»å…¨é¡¹ç›®ç»Ÿä¸€

#### âŒ **2. è·¯ç”±é…ç½®é”™è¯¯**
```json
// vercel.json é…ç½®å¯¼è‡´ç‹¬ç«‹APIæ–‡ä»¶æ— æ³•è®¿é—®
{
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "/server/index.js"  // æ‰€æœ‰APIè¯·æ±‚éƒ½è·¯ç”±åˆ°server
    }
  ]
}
```

**æ•™è®­**ï¼šéƒ¨ç½²é…ç½®éœ€è¦ä¸ä»£ç æ¶æ„åŒ¹é…

#### âŒ **3. ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒè°ƒè¯•**
- æ²¡æœ‰æœ¬åœ°å¼€å‘ç¯å¢ƒ
- ç¼ºä¹æµ‹è¯•ç¯å¢ƒ
- ç”Ÿäº§ç¯å¢ƒæˆä¸ºè°ƒè¯•åœºæ‰€

**æ•™è®­**ï¼šå¿…é¡»å»ºç«‹å®Œæ•´çš„ç¯å¢ƒåˆ†ç¦»ä½“ç³»

#### âŒ **4. ç¼ºä¹ç»Ÿä¸€çš„æ•°æ®åº“æŠ½è±¡å±‚**
- å¤šå¤„é‡å¤çš„æ•°æ®åº“é…ç½®ä»£ç 
- ä¸ä¸€è‡´çš„è¿æ¥é€»è¾‘
- ç¼ºä¹ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

**æ•™è®­**ï¼šéœ€è¦è®¾è®¡ç»Ÿä¸€çš„æ•°æ®è®¿é—®å±‚

---

## ğŸ—ï¸ æ ‡å‡†å¼€å‘æµç¨‹

### é˜¶æ®µ1ï¼šé¡¹ç›®è§„åˆ’ä¸æ¶æ„è®¾è®¡ (1-2å¤©)

#### 1.1 æŠ€æœ¯æ ˆç¡®å®š
```markdown
å‰ç«¯ï¼šReact + Redux + React Router
åç«¯ï¼šNode.js + Express + Sequelize/Prisma
æ•°æ®åº“ï¼šå¼€å‘ç¯å¢ƒ(SQLite/MySQL) â†’ ç”Ÿäº§ç¯å¢ƒ(PlanetScale/MySQL)
éƒ¨ç½²ï¼šVercel + GitHub Actions
```

#### 1.2 é¡¹ç›®ç»“æ„è®¾è®¡
```
project/
â”œâ”€â”€ client/          # å‰ç«¯åº”ç”¨
â”œâ”€â”€ server/          # åç«¯APIæœåŠ¡
â”œâ”€â”€ shared/          # å…±äº«ä»£ç /ç±»å‹å®šä¹‰
â”œâ”€â”€ docs/           # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/        # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ tests/          # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ .env.example    # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

#### 1.3 æ•°æ®åº“è®¾è®¡
- ERå›¾è®¾è®¡
- è¡¨ç»“æ„å®šä¹‰
- è¿ç§»è„šæœ¬ç¼–å†™
- ç§å­æ•°æ®å‡†å¤‡

### é˜¶æ®µ2ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º (åŠå¤©)

#### 2.1 ç¯å¢ƒå˜é‡ç®¡ç†
```bash
# .env.local (æœ¬åœ°å¼€å‘)
NODE_ENV=development
DB_HOST=localhost
DB_PORT=3306
DB_NAME=payment_dev
DB_USER=root
DB_PASSWORD=123456
JWT_SECRET=local_dev_secret_key
CORS_ORIGIN=http://localhost:3000

# .env.test (æµ‹è¯•ç¯å¢ƒ)
NODE_ENV=test
DB_HOST=localhost
DB_NAME=payment_test
# ... å…¶ä»–é…ç½®

# .env.example (Gitæäº¤)
NODE_ENV=development
DB_HOST=your_database_host
DB_PORT=3306
DB_NAME=your_database_name
DB_USER=your_database_user
DB_PASSWORD=your_database_password
JWT_SECRET=your_secret_key
CORS_ORIGIN=your_frontend_url
```

#### 2.2 æœ¬åœ°æ•°æ®åº“æ­å»º
```bash
# æ–¹å¼1ï¼šDocker (æ¨è)
docker run -d \
  --name payment-dev-db \
  -e MYSQL_ROOT_PASSWORD=123456 \
  -e MYSQL_DATABASE=payment_dev \
  -p 3306:3306 \
  mysql:8.0

# æ–¹å¼2ï¼šæœ¬åœ°å®‰è£…
# macOS: brew install mysql
# Ubuntu: apt install mysql-server
```

#### 2.3 ä¾èµ–å®‰è£…ä¸åˆå§‹åŒ–
```bash
# å®‰è£…ä¾èµ–
npm install

# æ•°æ®åº“è¿ç§»
npm run db:migrate

# å¯¼å…¥ç§å­æ•°æ®
npm run db:seed

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### é˜¶æ®µ3ï¼šåŠŸèƒ½å¼€å‘ (ä¸»è¦å¼€å‘æœŸ)

#### 3.1 å¼€å‘æµç¨‹
1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/user-authentication
   ```

2. **åç«¯APIå¼€å‘**
   - ç¼–å†™APIæ¥å£
   - æ·»åŠ å•å…ƒæµ‹è¯•
   - æ›´æ–°APIæ–‡æ¡£

3. **å‰ç«¯ç»„ä»¶å¼€å‘**
   - ç¼–å†™UIç»„ä»¶
   - æ·»åŠ ç»„ä»¶æµ‹è¯•
   - é›†æˆAPIæ¥å£

4. **æœ¬åœ°æµ‹è¯•éªŒè¯**
   ```bash
   npm run test        # è¿è¡Œæ‰€æœ‰æµ‹è¯•
   npm run test:db     # æ•°æ®åº“æµ‹è¯•
   npm run test:api    # APIæµ‹è¯•
   npm run test:e2e    # ç«¯åˆ°ç«¯æµ‹è¯•
   ```

5. **ä»£ç å®¡æŸ¥ä¸åˆå¹¶**
   ```bash
   git push origin feature/user-authentication
   # åˆ›å»ºPull Request
   # ä»£ç å®¡æŸ¥é€šè¿‡ååˆå¹¶
   ```

#### 3.2 å¿…é¡»çš„æœ¬åœ°éªŒè¯æ¸…å•
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æ‰€æœ‰APIæ¥å£æ­£å¸¸å“åº”
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] ç”¨æˆ·æ“ä½œæµç¨‹å®Œæ•´
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸
- [ ] å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] é›†æˆæµ‹è¯•å…¨éƒ¨é€šè¿‡

### é˜¶æ®µ4ï¼šæµ‹è¯•ç¯å¢ƒéƒ¨ç½² (åŠå¤©)

#### 4.1 æµ‹è¯•ç¯å¢ƒé…ç½®
```bash
# æµ‹è¯•ç¯å¢ƒURL: staging.yourdomain.com
# æµ‹è¯•æ•°æ®åº“: ç‹¬ç«‹çš„æµ‹è¯•æ•°æ®åº“å®ä¾‹
# ç¯å¢ƒå˜é‡: ä¸ç”Ÿäº§ç¯å¢ƒç›¸ä¼¼ä½†ç‹¬ç«‹
```

#### 4.2 è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹
```yaml
# .github/workflows/staging.yml
name: Deploy to Staging
on:
  push:
    branches: [develop]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run tests
        run: npm test
      
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
          scope: staging
```

#### 4.3 æµ‹è¯•ç¯å¢ƒéªŒè¯
- [ ] åŠŸèƒ½æµ‹è¯•ï¼šæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸
- [ ] æ€§èƒ½æµ‹è¯•ï¼šå“åº”æ—¶é—´ç¬¦åˆé¢„æœŸ
- [ ] å®‰å…¨æµ‹è¯•ï¼šæƒé™æ§åˆ¶æ­£ç¡®
- [ ] å…¼å®¹æ€§æµ‹è¯•ï¼šä¸åŒæµè§ˆå™¨æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯æµ‹è¯•ï¼šå“åº”å¼è®¾è®¡æ­£ç¡®

### é˜¶æ®µ5ï¼šç”Ÿäº§ç¯å¢ƒéƒ¨ç½² (1å¤©)

#### 5.1 éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] æµ‹è¯•ç¯å¢ƒéªŒè¯é€šè¿‡
- [ ] æ•°æ®åº“å¤‡ä»½å®Œæˆ
- [ ] ç¯å¢ƒå˜é‡é…ç½®ç¡®è®¤
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] å›æ»šæ–¹æ¡ˆå‡†å¤‡

#### 5.2 éƒ¨ç½²æµç¨‹
```bash
# 1. åˆ›å»ºå‘å¸ƒæ ‡ç­¾
git tag v1.2.0
git push origin v1.2.0

# 2. ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“å¤‡ä»½
# 3. æ‰§è¡Œéƒ¨ç½²
# 4. å¥åº·æ£€æŸ¥
# 5. åŠŸèƒ½éªŒè¯
# 6. ç›‘æ§è§‚å¯Ÿ
```

---

## âš™ï¸ ç¯å¢ƒç®¡ç†è§„èŒƒ

### ç¯å¢ƒåˆ†ç¦»ç­–ç•¥

```
å¼€å‘ç¯å¢ƒ (Local)
â”œâ”€â”€ æ•°æ®åº“ï¼šæœ¬åœ°MySQL/SQLite
â”œâ”€â”€ APIï¼šlocalhost:5000
â”œâ”€â”€ å‰ç«¯ï¼šlocalhost:3000
â””â”€â”€ ç”¨é€”ï¼šæ—¥å¸¸å¼€å‘è°ƒè¯•

æµ‹è¯•ç¯å¢ƒ (Staging)
â”œâ”€â”€ æ•°æ®åº“ï¼šæµ‹è¯•æ•°æ®åº“å®ä¾‹
â”œâ”€â”€ APIï¼šstaging-api.yourdomain.com
â”œâ”€â”€ å‰ç«¯ï¼šstaging.yourdomain.com
â””â”€â”€ ç”¨é€”ï¼šåŠŸèƒ½éªŒè¯ã€é›†æˆæµ‹è¯•

ç”Ÿäº§ç¯å¢ƒ (Production)
â”œâ”€â”€ æ•°æ®åº“ï¼šPlanetScaleç”Ÿäº§å®ä¾‹
â”œâ”€â”€ APIï¼šapi.yourdomain.com
â”œâ”€â”€ å‰ç«¯ï¼šyourdomain.com
â””â”€â”€ ç”¨é€”ï¼šç”¨æˆ·ä½¿ç”¨
```

### ç¯å¢ƒå˜é‡ç®¡ç†

#### 1. å‘½åè§„èŒƒ
```bash
# æ•°æ®åº“ç›¸å…³ - ç»Ÿä¸€ä½¿ç”¨DB_å‰ç¼€
DB_HOST=xxx
DB_PORT=3306
DB_NAME=xxx
DB_USER=xxx
DB_PASSWORD=xxx

# åº”ç”¨é…ç½®
NODE_ENV=production
PORT=5000
JWT_SECRET=xxx
JWT_EXPIRES_IN=24h

# ç¬¬ä¸‰æ–¹æœåŠ¡
CORS_ORIGIN=https://yourdomain.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
```

#### 2. å®‰å…¨ç®¡ç†
```bash
# æ•æ„Ÿä¿¡æ¯ç»ä¸æäº¤åˆ°Git
echo ".env" >> .gitignore
echo ".env.local" >> .gitignore

# ä½¿ç”¨ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env.local
# å¡«å†™å®é™…å€¼
```

#### 3. éªŒè¯æœºåˆ¶
```javascript
// config/env.js
const requiredEnvVars = [
  'NODE_ENV',
  'DB_HOST',
  'DB_USER', 
  'DB_PASSWORD',
  'DB_NAME',
  'JWT_SECRET'
];

function validateEnv() {
  const missing = requiredEnvVars.filter(key => !process.env[key]);
  
  if (missing.length > 0) {
    throw new Error(`ç¼ºå°‘ç¯å¢ƒå˜é‡: ${missing.join(', ')}`);
  }
}

module.exports = { validateEnv };
```

---

## ğŸ’» ä»£ç å¼€å‘è§„èŒƒ

### æ•°æ®åº“æŠ½è±¡å±‚è®¾è®¡

#### 1. ç»Ÿä¸€çš„æ•°æ®åº“é…ç½®
```javascript
// config/database.js
const { Sequelize } = require('sequelize');
const { validateEnv } = require('./env');

// ç¯å¢ƒå˜é‡éªŒè¯
validateEnv();

const config = {
  host: process.env.DB_HOST,
  port: process.env.DB_PORT || 3306,
  database: process.env.DB_NAME,
  username: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  dialect: 'mysql',
  logging: process.env.NODE_ENV === 'development',
  pool: {
    max: 5,
    min: 0,
    acquire: 30000,
    idle: 10000
  }
};

// ç”Ÿäº§ç¯å¢ƒSSLé…ç½®
if (process.env.NODE_ENV === 'production') {
  config.dialectOptions = {
    ssl: {
      rejectUnauthorized: false
    }
  };
}

const sequelize = new Sequelize(config);

module.exports = { sequelize };
```

#### 2. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
```javascript
// middleware/errorHandler.js
const errorHandler = (err, req, res, next) => {
  console.error('é”™è¯¯è¯¦æƒ…:', err);

  // æ•°æ®åº“è¿æ¥é”™è¯¯
  if (err.name === 'SequelizeConnectionError') {
    return res.status(500).json({
      success: false,
      message: 'æ•°æ®åº“è¿æ¥å¤±è´¥',
      error: process.env.NODE_ENV === 'development' ? err.message : 'æœåŠ¡æš‚æ—¶ä¸å¯ç”¨'
    });
  }

  // é»˜è®¤é”™è¯¯
  res.status(500).json({
    success: false,
    message: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯',
    error: process.env.NODE_ENV === 'development' ? err.message : 'è¯·ç¨åé‡è¯•'
  });
};

module.exports = errorHandler;
```

#### 3. å¥åº·æ£€æŸ¥æ ‡å‡†åŒ–
```javascript
// routes/health.js
const express = require('express');
const { sequelize } = require('../config/database');

const router = express.Router();

router.get('/health', async (req, res) => {
  try {
    // æ•°æ®åº“è¿æ¥æµ‹è¯•
    await sequelize.authenticate();
    
    res.json({
      status: 'OK',
      message: 'æœåŠ¡è¿è¡Œæ­£å¸¸',
      timestamp: new Date().toISOString(),
      database: {
        status: 'connected',
        host: process.env.DB_HOST,
        database: process.env.DB_NAME
      },
      environment: process.env.NODE_ENV
    });
  } catch (error) {
    res.status(500).json({
      status: 'ERROR',
      message: 'æœåŠ¡å¼‚å¸¸',
      timestamp: new Date().toISOString(),
      database: {
        status: 'disconnected',
        error: error.message
      }
    });
  }
});

module.exports = router;
```

### APIè®¾è®¡è§„èŒƒ

#### 1. RESTfulæ¥å£è®¾è®¡
```javascript
// æ ‡å‡†å“åº”æ ¼å¼
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... },
  "pagination": { ... }, // åˆ†é¡µæ•°æ®æ—¶åŒ…å«
  "timestamp": "2025-01-30T12:00:00.000Z"
}
```

#### 2. é”™è¯¯å“åº”æ ¼å¼
```javascript
{
  "success": false,
  "message": "é”™è¯¯æè¿°",
  "error_code": "VALIDATION_ERROR",
  "details": { ... }, // è¯¦ç»†é”™è¯¯ä¿¡æ¯
  "timestamp": "2025-01-30T12:00:00.000Z"
}
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”

```
    E2Eæµ‹è¯• (5%)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  é›†æˆæµ‹è¯• (20%)
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å•å…ƒæµ‹è¯• (75%)
```

### 1. å•å…ƒæµ‹è¯•
```javascript
// tests/unit/database.test.js
const { sequelize } = require('../../config/database');

describe('æ•°æ®åº“è¿æ¥', () => {
  test('åº”è¯¥èƒ½å¤Ÿè¿æ¥åˆ°æ•°æ®åº“', async () => {
    await expect(sequelize.authenticate()).resolves.not.toThrow();
  });

  test('ç¯å¢ƒå˜é‡åº”è¯¥æ­£ç¡®é…ç½®', () => {
    expect(process.env.DB_HOST).toBeDefined();
    expect(process.env.DB_USER).toBeDefined();
    expect(process.env.DB_PASSWORD).toBeDefined();
    expect(process.env.DB_NAME).toBeDefined();
  });
});
```

### 2. é›†æˆæµ‹è¯•
```javascript
// tests/integration/api.test.js
const request = require('supertest');
const app = require('../../server/index');

describe('APIé›†æˆæµ‹è¯•', () => {
  test('GET /api/health åº”è¯¥è¿”å›å¥åº·çŠ¶æ€', async () => {
    const response = await request(app)
      .get('/api/health')
      .expect(200);

    expect(response.body.status).toBe('OK');
    expect(response.body.database.status).toBe('connected');
  });
});
```

### 3. ç«¯åˆ°ç«¯æµ‹è¯•
```javascript
// tests/e2e/user-flow.test.js
const { chromium } = require('playwright');

describe('ç”¨æˆ·å®Œæ•´æµç¨‹', () => {
  test('ç”¨æˆ·æ³¨å†Œåˆ°ä¸‹å•æµç¨‹', async () => {
    const browser = await chromium.launch();
    const page = await browser.newPage();
    
    // è®¿é—®é¦–é¡µ
    await page.goto('http://localhost:3000');
    
    // æ³¨å†Œç”¨æˆ·
    await page.click('[data-testid="register-button"]');
    // ... æ›´å¤šæµ‹è¯•æ­¥éª¤
    
    await browser.close();
  });
});
```

### æµ‹è¯•è¿è¡Œè„šæœ¬
```json
{
  "scripts": {
    "test": "jest",
    "test:unit": "jest tests/unit",
    "test:integration": "jest tests/integration",
    "test:e2e": "playwright test",
    "test:coverage": "jest --coverage",
    "test:watch": "jest --watch"
  }
}
```

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### CI/CD ç®¡é“è®¾è®¡

```yaml
# .github/workflows/deploy.yml
name: éƒ¨ç½²æµç¨‹
on:
  push:
    branches: [main]
    tags: ['v*']

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '18'
      
      - name: å®‰è£…ä¾èµ–
        run: npm ci
      
      - name: ä»£ç æ£€æŸ¥
        run: npm run lint
      
      - name: è¿è¡Œæµ‹è¯•
        run: npm run test:coverage
      
      - name: ä¸Šä¼ è¦†ç›–ç‡æŠ¥å‘Š
        uses: codecov/codecov-action@v1

  deploy-staging:
    needs: test
    if: github.ref == 'refs/heads/develop'
    runs-on: ubuntu-latest
    steps:
      - name: éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
        # éƒ¨ç½²é€»è¾‘

  deploy-production:
    needs: test
    if: startsWith(github.ref, 'refs/tags/v')
    runs-on: ubuntu-latest
    steps:
      - name: æ•°æ®åº“å¤‡ä»½
        # å¤‡ä»½é€»è¾‘
      
      - name: éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
        # éƒ¨ç½²é€»è¾‘
      
      - name: å¥åº·æ£€æŸ¥
        # æ£€æŸ¥é€»è¾‘
      
      - name: é€šçŸ¥å›¢é˜Ÿ
        # é€šçŸ¥é€»è¾‘
```

### éƒ¨ç½²æ£€æŸ¥æ¸…å•

#### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] ç¯å¢ƒå˜é‡é…ç½®ç¡®è®¤
- [ ] æ•°æ®åº“è¿ç§»è„šæœ¬å‡†å¤‡
- [ ] å¤‡ä»½ç­–ç•¥ç¡®è®¤
- [ ] å›æ»šæ–¹æ¡ˆå‡†å¤‡

#### éƒ¨ç½²åéªŒè¯
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] æ ¸å¿ƒåŠŸèƒ½éªŒè¯
- [ ] æ€§èƒ½æŒ‡æ ‡æ­£å¸¸
- [ ] é”™è¯¯ç‡ç›‘æ§
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†

---

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### åº”ç”¨ç›‘æ§

#### 1. å¥åº·ç›‘æ§
```javascript
// æ‰©å±•çš„å¥åº·æ£€æŸ¥
router.get('/health/detailed', async (req, res) => {
  const health = {
    status: 'OK',
    timestamp: new Date().toISOString(),
    uptime: process.uptime(),
    memory: process.memoryUsage(),
    database: await checkDatabase(),
    external_services: await checkExternalServices()
  };
  
  res.json(health);
});
```

#### 2. æ€§èƒ½ç›‘æ§
```javascript
// å“åº”æ—¶é—´ä¸­é—´ä»¶
const responseTime = (req, res, next) => {
  const start = Date.now();
  
  res.on('finish', () => {
    const duration = Date.now() - start;
    console.log(`${req.method} ${req.url} - ${duration}ms`);
    
    // å‘é€åˆ°ç›‘æ§ç³»ç»Ÿ
    if (duration > 1000) {
      console.warn(`æ…¢è¯·æ±‚è­¦å‘Š: ${req.url} - ${duration}ms`);
    }
  });
  
  next();
};
```

#### 3. é”™è¯¯ç›‘æ§
```javascript
// é”™è¯¯æ”¶é›†
const errorReporter = (err, req, res, next) => {
  // è®°å½•åˆ°æ—¥å¿—ç³»ç»Ÿ
  console.error({
    error: err.message,
    stack: err.stack,
    url: req.url,
    method: req.method,
    ip: req.ip,
    userAgent: req.get('User-Agent'),
    timestamp: new Date().toISOString()
  });
  
  // å‘é€åˆ°é”™è¯¯ç›‘æ§ç³»ç»Ÿï¼ˆå¦‚Sentryï¼‰
  if (process.env.NODE_ENV === 'production') {
    // Sentry.captureException(err);
  }
  
  next(err);
};
```

### æ—¥å¿—ç®¡ç†

```javascript
// config/logger.js
const winston = require('winston');

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'logs/error.log', level: 'error' }),
    new winston.transports.File({ filename: 'logs/combined.log' })
  ]
});

if (process.env.NODE_ENV !== 'production') {
  logger.add(new winston.transports.Console({
    format: winston.format.simple()
  }));
}

module.exports = logger;
```

---

## ğŸ‘¥ å›¢é˜Ÿåä½œè§„èŒƒ

### Git å·¥ä½œæµ

```
main (ç”Ÿäº§)
  â†‘
develop (å¼€å‘ä¸»åˆ†æ”¯)
  â†‘
feature/xxx (åŠŸèƒ½åˆ†æ”¯)
```

#### åˆ†æ”¯å‘½åè§„èŒƒ
```bash
# åŠŸèƒ½å¼€å‘
feature/user-authentication
feature/payment-integration

# é—®é¢˜ä¿®å¤
bugfix/database-connection-error
bugfix/ui-display-issue

# çƒ­ä¿®å¤
hotfix/security-patch
hotfix/critical-bug-fix
```

#### æäº¤ä¿¡æ¯è§„èŒƒ
```bash
# æ ¼å¼ï¼š<ç±»å‹>: <æè¿°>
feat: æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½
fix: ä¿®å¤æ•°æ®åº“è¿æ¥é—®é¢˜
docs: æ›´æ–°APIæ–‡æ¡£
style: ä¿®å¤ä»£ç æ ¼å¼
refactor: é‡æ„æ•°æ®åº“é…ç½®
test: æ·»åŠ é›†æˆæµ‹è¯•
chore: æ›´æ–°ä¾èµ–åŒ…
```

### ä»£ç å®¡æŸ¥æ¸…å•

#### åŠŸèƒ½æ€§å®¡æŸ¥
- [ ] åŠŸèƒ½æ˜¯å¦ç¬¦åˆéœ€æ±‚
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶
- [ ] æ€§èƒ½å½±å“è¯„ä¼°

#### ä»£ç è´¨é‡å®¡æŸ¥
- [ ] ä»£ç å¯è¯»æ€§
- [ ] å‘½åè§„èŒƒ
- [ ] ä»£ç å¤ç”¨
- [ ] æ³¨é‡Šå®Œæ•´æ€§

#### å®‰å…¨æ€§å®¡æŸ¥
- [ ] è¾“å…¥éªŒè¯
- [ ] æƒé™æ§åˆ¶
- [ ] æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- [ ] SQLæ³¨å…¥é˜²æŠ¤

---

## ğŸ› ï¸ å·¥å…·é“¾ä¸æœ€ä½³å®è·µ

### å¼€å‘å·¥å…·é…ç½®

#### 1. VSCode æ‰©å±•æ¨è
```json
{
  "recommendations": [
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-jest",
    "humao.rest-client"
  ]
}
```

#### 2. ESLint é…ç½®
```javascript
// .eslintrc.js
module.exports = {
  env: {
    node: true,
    es2021: true,
    jest: true
  },
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended'
  ],
  rules: {
    'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
    'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off'
  }
};
```

#### 3. Prettier é…ç½®
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2
}
```

### åŒ…ç®¡ç†æœ€ä½³å®è·µ

```json
{
  "scripts": {
    "dev": "concurrently \"npm run server:dev\" \"npm run client:dev\"",
    "server:dev": "nodemon server/index.js",
    "client:dev": "cd client && npm start",
    "build": "npm run client:build && npm run server:build",
    "test": "jest --passWithNoTests",
    "lint": "eslint . --ext .js,.jsx,.ts,.tsx",
    "lint:fix": "eslint . --ext .js,.jsx,.ts,.tsx --fix",
    "format": "prettier --write .",
    "db:migrate": "sequelize-cli db:migrate",
    "db:seed": "sequelize-cli db:seed:all",
    "db:reset": "sequelize-cli db:drop && sequelize-cli db:create && npm run db:migrate && npm run db:seed"
  }
}
```

---

## ğŸš¨ åº”æ€¥é¢„æ¡ˆ

### æ•…éšœå“åº”æµç¨‹

#### 1. æ•…éšœåˆ†çº§
```
P0 - ä¸¥é‡æ•…éšœï¼šç³»ç»Ÿå®Œå…¨ä¸å¯ç”¨
P1 - é«˜å½±å“æ•…éšœï¼šæ ¸å¿ƒåŠŸèƒ½å—å½±å“
P2 - ä¸­ç­‰æ•…éšœï¼šéƒ¨åˆ†åŠŸèƒ½å—å½±å“
P3 - ä½å½±å“æ•…éšœï¼šéå…³é”®åŠŸèƒ½å—å½±å“
```

#### 2. å“åº”æ—¶é—´
```
P0: 5åˆ†é’Ÿå†…å“åº”ï¼Œ30åˆ†é’Ÿå†…ä¿®å¤
P1: 15åˆ†é’Ÿå†…å“åº”ï¼Œ2å°æ—¶å†…ä¿®å¤
P2: 1å°æ—¶å†…å“åº”ï¼Œ8å°æ—¶å†…ä¿®å¤
P3: 24å°æ—¶å†…å“åº”ï¼Œ72å°æ—¶å†…ä¿®å¤
```

#### 3. åº”æ€¥å¤„ç†æ­¥éª¤
1. **æ•…éšœç¡®è®¤**
   - æ£€æŸ¥ç›‘æ§å‘Šè­¦
   - ç¡®è®¤æ•…éšœèŒƒå›´
   - è¯„ä¼°å½±å“ç¨‹åº¦

2. **å¿«é€Ÿå“åº”**
   - å¯åŠ¨åº”æ€¥é¢„æ¡ˆ
   - é€šçŸ¥ç›¸å…³äººå‘˜
   - å¼€å§‹é—®é¢˜å®šä½

3. **é—®é¢˜è§£å†³**
   - å›æ»šåˆ°ç¨³å®šç‰ˆæœ¬
   - ä¿®å¤æ ¹æœ¬é—®é¢˜
   - éªŒè¯ä¿®å¤æ•ˆæœ

4. **äº‹åæ€»ç»“**
   - æ•…éšœåŸå› åˆ†æ
   - æ”¹è¿›æªæ–½åˆ¶å®š
   - é¢„é˜²æªæ–½å®æ–½

### å¸¸è§é—®é¢˜è§£å†³æ‰‹å†Œ

#### æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# é—®é¢˜ï¼šAccess denied for user ''
# åŸå› ï¼šç¯å¢ƒå˜é‡æœªè®¾ç½®æˆ–å‘½åä¸ä¸€è‡´
# è§£å†³ï¼š
1. æ£€æŸ¥Vercelç¯å¢ƒå˜é‡é…ç½®
2. ç¡®è®¤å˜é‡å‘½åä¸ä»£ç ä¸€è‡´
3. é‡æ–°éƒ¨ç½²åº”ç”¨
4. éªŒè¯è¿æ¥çŠ¶æ€
```

#### éƒ¨ç½²å¤±è´¥é—®é¢˜
```bash
# é—®é¢˜ï¼šæ„å»ºå¤±è´¥æˆ–éƒ¨ç½²è¶…æ—¶
# åŸå› ï¼šä¾èµ–é—®é¢˜ã€é…ç½®é”™è¯¯
# è§£å†³ï¼š
1. æ£€æŸ¥æ„å»ºæ—¥å¿—
2. éªŒè¯ä¾èµ–ç‰ˆæœ¬
3. ç¡®è®¤é…ç½®æ–‡ä»¶
4. æ¸…ç†ç¼“å­˜é‡æ–°éƒ¨ç½²
```

#### æ€§èƒ½é—®é¢˜
```bash
# é—®é¢˜ï¼šå“åº”æ—¶é—´è¿‡é•¿
# åŸå› ï¼šæ•°æ®åº“æŸ¥è¯¢ã€ä»£ç é€»è¾‘
# è§£å†³ï¼š
1. åˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—
2. ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•
3. ä»£ç æ€§èƒ½ä¼˜åŒ–
4. å¯ç”¨ç¼“å­˜æœºåˆ¶
```

---

## ğŸ“ å¼€å‘æ£€æŸ¥æ¸…å•

### æ¯æ—¥å¼€å‘æ£€æŸ¥
- [ ] æœ¬åœ°ç¯å¢ƒæ­£å¸¸å¯åŠ¨
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æ–°åŠŸèƒ½æœ¬åœ°æµ‹è¯•é€šè¿‡
- [ ] ä»£ç ç¬¦åˆè§„èŒƒ
- [ ] æäº¤ä¿¡æ¯è§„èŒƒ

### åŠŸèƒ½å®Œæˆæ£€æŸ¥
- [ ] åŠŸèƒ½éœ€æ±‚å®Œæ•´å®ç°
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] æ•°æ®åº“è¿ç§»å‡†å¤‡
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] å›æ»šæ–¹æ¡ˆå‡†å¤‡

### éƒ¨ç½²åæ£€æŸ¥
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] æ ¸å¿ƒåŠŸèƒ½éªŒè¯
- [ ] æ€§èƒ½æŒ‡æ ‡æ­£å¸¸
- [ ] é”™è¯¯ç›‘æ§æ­£å¸¸
- [ ] ç”¨æˆ·è®¿é—®æ­£å¸¸

---

## ğŸ¯ æ€»ç»“ä¸è¦æ±‚

### å¯¹å›¢é˜Ÿçš„è¦æ±‚

#### 1. å¼€å‘è§„èŒƒè¦æ±‚
- **ä¸¥æ ¼éµå¾ªç¯å¢ƒåˆ†ç¦»**ï¼šæœ¬åœ°â†’æµ‹è¯•â†’ç”Ÿäº§
- **ç»Ÿä¸€ä»£ç è§„èŒƒ**ï¼šä½¿ç”¨ESLintã€Prettier
- **å®Œå–„æµ‹è¯•è¦†ç›–**ï¼šå•å…ƒã€é›†æˆã€ç«¯åˆ°ç«¯æµ‹è¯•
- **è§„èŒƒGitæµç¨‹**ï¼šåˆ†æ”¯ç®¡ç†ã€ä»£ç å®¡æŸ¥

#### 2. è´¨é‡ä¿è¯è¦æ±‚
- **æœ¬åœ°éªŒè¯å®Œæ•´**ï¼šæ‰€æœ‰åŠŸèƒ½æœ¬åœ°æµ‹è¯•é€šè¿‡æ‰èƒ½æäº¤
- **æµ‹è¯•ç¯å¢ƒéªŒè¯**ï¼šæµ‹è¯•ç¯å¢ƒé€šè¿‡æ‰èƒ½éƒ¨ç½²ç”Ÿäº§
- **ç›‘æ§å‘Šè­¦å®Œå–„**ï¼šåŠæ—¶å‘ç°å’Œå“åº”é—®é¢˜
- **æ–‡æ¡£åŠæ—¶æ›´æ–°**ï¼šä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥

#### 3. åº”æ€¥å“åº”è¦æ±‚
- **å¿«é€Ÿå“åº”èƒ½åŠ›**ï¼šå»ºç«‹24å°æ—¶åº”æ€¥å“åº”æœºåˆ¶
- **é—®é¢˜è§£å†³èƒ½åŠ›**ï¼šå…·å¤‡å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›
- **é¢„é˜²æ„è¯†å¼º**ï¼šä»æ¯æ¬¡é—®é¢˜ä¸­æ€»ç»“å’Œæ”¹è¿›

### é¡¹ç›®ç®¡ç†è¦æ±‚

#### 1. å·¥å…·ä½¿ç”¨
- **é¡¹ç›®ç®¡ç†**ï¼šä½¿ç”¨Jiraã€Trelloç­‰å·¥å…·è·Ÿè¸ªä»»åŠ¡
- **ä»£ç ç®¡ç†**ï¼šGitHub/GitLabè§„èŒƒæµç¨‹
- **æ–‡æ¡£ç®¡ç†**ï¼šä½¿ç”¨Notionã€Confluenceç­‰åä½œ
- **ç›‘æ§å·¥å…·**ï¼šé›†æˆAPMã€æ—¥å¿—åˆ†æå·¥å…·

#### 2. æµç¨‹åˆ¶åº¦
- **æ¯æ—¥ç«™ä¼š**ï¼šåŒæ­¥è¿›åº¦ã€è®¨è®ºé—®é¢˜
- **ä»£ç å®¡æŸ¥**ï¼šå¼ºåˆ¶æ€§ä»£ç å®¡æŸ¥æµç¨‹
- **å®šæœŸå›é¡¾**ï¼šSprintå›é¡¾ã€é—®é¢˜æ€»ç»“
- **çŸ¥è¯†åˆ†äº«**ï¼šæŠ€æœ¯åˆ†äº«ã€ç»éªŒæ€»ç»“

---

## ğŸ“š å‚è€ƒèµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [Node.js æœ€ä½³å®è·µ](https://github.com/goldbergyoni/nodebestpractices)
- [React å¼€å‘æŒ‡å—](https://react.dev/)
- [Sequelize æ–‡æ¡£](https://sequelize.org/)
- [Vercel éƒ¨ç½²æŒ‡å—](https://vercel.com/docs)

### å·¥å…·é“¾
- [ESLint é…ç½®](https://eslint.org/)
- [Prettier é…ç½®](https://prettier.io/)
- [Jest æµ‹è¯•æ¡†æ¶](https://jestjs.io/)
- [Playwright E2Eæµ‹è¯•](https://playwright.dev/)

### ç›‘æ§å·¥å…·
- [Winston æ—¥å¿—](https://github.com/winstonjs/winston)
- [Sentry é”™è¯¯ç›‘æ§](https://sentry.io/)
- [New Relic APM](https://newrelic.com/)

---

**æœ€åæ›´æ–°**: 2025-01-30
**ç‰ˆæœ¬**: v1.0.0
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ

> è¿™ä»½æ‰‹å†Œåº”è¯¥æˆä¸ºå›¢é˜Ÿçš„å·¥ä½œæ ‡å‡†ï¼Œå®šæœŸæ›´æ–°å’Œå®Œå–„ã€‚è®°ä½ï¼šå¥½çš„æµç¨‹æ˜¯ä¸ºäº†è®©å¼€å‘æ›´é«˜æ•ˆï¼Œè€Œä¸æ˜¯å¢åŠ è´Ÿæ‹…ã€‚