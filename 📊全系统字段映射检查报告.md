# ğŸ“Š å…¨ç³»ç»Ÿå­—æ®µæ˜ å°„æ£€æŸ¥æŠ¥å‘Š

## âœ… ä¸€çº§é”€å”®æ³¨å†Œé¡µé¢ï¼ˆSalesPage.jsï¼‰

| å‰ç«¯è¡¨å•å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ˜ å°„çŠ¶æ€ | è¯´æ˜ |
|------------|-----------|---------|------|
| `wechat_name` | `wechat_name` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `chain_name` | `chain_name` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `payment_address` | `payment_account` | âœ… å·²ä¿®å¤ | éœ€è¦æ˜ å°„ |
| - | `payment_method` | âœ… è‡ªåŠ¨æ·»åŠ  | å›ºå®šä¸º'crypto' |

**APIå¤„ç†**ï¼ˆapi.js `registerPrimary`ï¼‰ï¼š
```javascript
// å­—æ®µæ˜ å°„
if (salesData.payment_address) {
  salesData.payment_account = salesData.payment_address;
  delete salesData.payment_address;
}
```

---

## âœ… äºŒçº§é”€å”®æ³¨å†Œé¡µé¢ï¼ˆUnifiedSecondarySalesPage.jsï¼‰

| å‰ç«¯è¡¨å•å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ˜ å°„çŠ¶æ€ | è¯´æ˜ |
|------------|-----------|---------|------|
| `wechat_name` | `wechat_name` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `chain_name` | `chain_name` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `payment_address` | `payment_account` | âœ… å·²ä¿®å¤ | éœ€è¦æ˜ å°„ |
| - | `payment_method` | âœ… è‡ªåŠ¨æ·»åŠ  | å›ºå®šä¸º'crypto' |
| `registration_code` | `primary_sales_id` | âœ… æ­£ç¡® | é€šè¿‡éªŒè¯è·å– |
| - | `sales_type` | âœ… è‡ªåŠ¨æ·»åŠ  | 'secondary' |

**APIå¤„ç†**ï¼ˆapi.js `registerSecondary`ï¼‰ï¼š
```javascript
// å­—æ®µæ˜ å°„
if (salesData.payment_address) {
  salesData.payment_account = salesData.payment_address;
  delete salesData.payment_address;
}
```

---

## âœ… ç”¨æˆ·è´­ä¹°é¡µé¢ï¼ˆPurchasePage.jsï¼‰

| å‰ç«¯è¡¨å•å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ˜ å°„çŠ¶æ€ | è¯´æ˜ |
|------------|-----------|---------|------|
| `tradingview_username` | `tradingview_username` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `customer_wechat` | `customer_wechat` | âœ… æ­£ç¡® | ç›´æ¥ä¿å­˜ |
| `crypto_amount` | `crypto_amount` | âœ… æ­£ç¡® | è½¬ä¸ºæ•°å­—ç±»å‹ |
| `payment_time` | `payment_time` | âœ… æ­£ç¡® | æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸² |
| - | `sales_code` | âœ… æ­£ç¡® | ä»URLè·å– |
| - | `duration` | âœ… æ­£ç¡® | ä»é€‰æ‹©è·å– |
| - | `payment_method` | âœ… æ­£ç¡® | ä»é€‰æ‹©è·å– |
| - | `purchase_type` | âœ… æ­£ç¡® | ä»é€‰æ‹©è·å– |
| - | `effective_time` | âœ… æ­£ç¡® | ä»é€‰æ‹©è·å– |
| - | `amount` | âœ… æ­£ç¡® | è®¡ç®—è·å¾— |
| - | `actual_payment_amount` | âœ… æ­£ç¡® | è®¡ç®—è·å¾— |
| `screenshot_data` | `screenshot_url` | âœ… æ­£ç¡® | Base64å›¾ç‰‡ |

**APIå¤„ç†**ï¼ˆapi.js `OrdersAPI.create`ï¼‰ï¼š
```javascript
// æ‰€æœ‰å­—æ®µéƒ½æ­£ç¡®æ˜ å°„
customer_wechat: orderData.customer_wechat,
tradingview_username: orderData.tradingview_username,
crypto_amount: parseFloat(orderData.crypto_amount) || null,
payment_time: orderData.payment_time,
// ...ç­‰ç­‰
```

---

## ğŸ“‹ é”€å”®ç®¡ç†é¡µé¢ï¼ˆAdminSales.jsï¼‰æ˜¾ç¤ºå­—æ®µ

| æ˜¾ç¤ºå­—æ®µ | æ•°æ®æ¥æº | æ˜ å°„çŠ¶æ€ | è¯´æ˜ |
|---------|---------|---------|------|
| é”€å”®å¾®ä¿¡å· | `sales.wechat_name` | âœ… æ­£ç¡® | æ­£ç¡®æ˜¾ç¤º |
| æ”¶æ¬¾é“¾å | `sales.chain_name` | âœ… å·²ä¿®å¤ | ä¼˜å…ˆæ˜¾ç¤ºchain_name |
| æ”¶æ¬¾åœ°å€ | `sales.payment_account` | âœ… æ­£ç¡® | æ­£ç¡®æ˜¾ç¤º |
| å·²è¿”ä½£é‡‘é¢ | `sales.paid_commission` | âœ… å·²å®ç° | å¯ä¿å­˜åˆ°æ•°æ®åº“ |

---

## ğŸ” æ•°æ®åº“è¡¨å­—æ®µæ€»è§ˆ

### primary_salesè¡¨
- `wechat_name` âœ… å¾®ä¿¡å·
- `chain_name` âœ… é“¾å
- `payment_account` âœ… æ”¶æ¬¾åœ°å€ï¼ˆåŸpayment_addressæ˜ å°„ï¼‰
- `payment_method` âœ… æ”¶æ¬¾æ–¹å¼
- `paid_commission` âœ… å·²è¿”ä½£é‡‘é¢ï¼ˆæ–°å¢ï¼‰
- `commission_rate` âœ… ä½£é‡‘ç‡
- `sales_code` âœ… é”€å”®ä»£ç 
- `secondary_registration_code` âœ… äºŒçº§æ³¨å†Œç 

### secondary_salesè¡¨
- `wechat_name` âœ… å¾®ä¿¡å·
- `chain_name` âœ… é“¾å
- `payment_account` âœ… æ”¶æ¬¾åœ°å€ï¼ˆåŸpayment_addressæ˜ å°„ï¼‰
- `payment_method` âœ… æ”¶æ¬¾æ–¹å¼
- `paid_commission` âœ… å·²è¿”ä½£é‡‘é¢ï¼ˆæ–°å¢ï¼‰
- `commission_rate` âœ… ä½£é‡‘ç‡
- `sales_code` âœ… é”€å”®ä»£ç 
- `primary_sales_id` âœ… ä¸Šçº§é”€å”®ID
- `sales_type` âœ… é”€å”®ç±»å‹

### ordersè¡¨
- `tradingview_username` âœ… TradingViewç”¨æˆ·å
- `customer_wechat` âœ… å®¢æˆ·å¾®ä¿¡å·
- `sales_code` âœ… é”€å”®ä»£ç 
- `crypto_amount` âœ… åŠ å¯†è´§å¸é‡‘é¢
- `payment_time` âœ… æ”¯ä»˜æ—¶é—´
- `payment_method` âœ… æ”¯ä»˜æ–¹å¼
- `screenshot_url` âœ… æˆªå›¾URL
- `amount` âœ… è®¢å•é‡‘é¢
- `actual_payment_amount` âœ… å®é™…æ”¯ä»˜é‡‘é¢
- `duration` âœ… æ—¶é•¿
- `purchase_type` âœ… è´­ä¹°ç±»å‹
- `effective_time` âœ… ç”Ÿæ•ˆæ—¶é—´

---

## âœ… ç»“è®º

### æ‰€æœ‰å­—æ®µæ˜ å°„çŠ¶æ€ï¼š
1. **ä¸€çº§é”€å”®æ³¨å†Œ**ï¼šâœ… æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜ å°„
2. **äºŒçº§é”€å”®æ³¨å†Œ**ï¼šâœ… æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜ å°„  
3. **ç”¨æˆ·è´­ä¹°**ï¼šâœ… æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜ å°„
4. **é”€å”®ç®¡ç†æ˜¾ç¤º**ï¼šâœ… æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜¾ç¤º

### å…³é”®ä¿®å¤ï¼š
- `payment_address` â†’ `payment_account` æ˜ å°„å·²å®Œæˆ
- `chain_name` å­—æ®µå·²æ­£ç¡®ä¿å­˜å’Œæ˜¾ç¤º
- `paid_commission` å­—æ®µå·²æ–°å¢å¹¶å¯ä¿å­˜

### éªŒè¯æ¸…å•ï¼š
- [x] å‰ç«¯è¡¨å•å­—æ®µå…¨éƒ¨æ£€æŸ¥
- [x] APIæ˜ å°„é€»è¾‘å…¨éƒ¨éªŒè¯
- [x] æ•°æ®åº“å­—æ®µå…¨éƒ¨å¯¹åº”
- [x] ç®¡ç†é¡µé¢æ˜¾ç¤ºå…¨éƒ¨æ­£ç¡®

**ç­”æ¡ˆï¼šæ‰€æœ‰é¡µé¢å‰å°æ”¶é›†çš„å­—æ®µéƒ½å·²æ­£ç¡®æ˜ å°„åˆ°æ•°æ®åº“ï¼**
