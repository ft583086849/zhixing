-- ğŸ”§ ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
-- æ›´æ–°ç®¡ç†å‘˜è´¦æˆ·çš„ç”¨æˆ·åå’Œå¯†ç 

-- ============================================================================
-- æ–¹æ¡ˆ1ï¼šä¿®æ”¹ç°æœ‰ç®¡ç†å‘˜è´¦æˆ·
-- ============================================================================

-- æŸ¥çœ‹å½“å‰ç®¡ç†å‘˜è´¦æˆ·
SELECT '=== å½“å‰ç®¡ç†å‘˜è´¦æˆ· ===' as info;
SELECT id, username, role, created_at FROM admins;

-- æ–¹æ¡ˆ1aï¼šä¿ç•™ç°æœ‰IDï¼Œåªä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç 
-- æ³¨æ„ï¼šè¯·ä½ æä¾›æƒ³è¦çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæˆ‘æ¥ç”ŸæˆåŠ å¯†åçš„å¯†ç å“ˆå¸Œ

-- ä¸´æ—¶ç¤ºä¾‹ï¼ˆè¯·æ›¿æ¢ä¸ºä½ æƒ³è¦çš„ç”¨æˆ·åå’Œå¯†ç ï¼‰
UPDATE admins 
SET 
    username = 'your_username',  -- æ›¿æ¢ä¸ºä½ æƒ³è¦çš„ç”¨æˆ·å
    password_hash = '$2b$10$your_new_password_hash',  -- éœ€è¦ç”Ÿæˆå¯†ç å“ˆå¸Œ
    updated_at = CURRENT_TIMESTAMP
WHERE username = 'admin';

-- ============================================================================
-- æ–¹æ¡ˆ2ï¼šåˆ é™¤ç°æœ‰ç®¡ç†å‘˜ï¼Œåˆ›å»ºæ–°çš„
-- ============================================================================

-- åˆ é™¤ç°æœ‰ç®¡ç†å‘˜è´¦æˆ·
-- DELETE FROM admins WHERE username = 'admin';

-- åˆ›å»ºæ–°çš„ç®¡ç†å‘˜è´¦æˆ·
-- INSERT INTO admins (username, password_hash, role, created_at, updated_at) 
-- VALUES ('your_username', '$2b$10$your_new_password_hash', 'super_admin', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- ============================================================================
-- éªŒè¯ç»“æœ
-- ============================================================================

-- æ˜¾ç¤ºä¿®æ”¹åçš„ç®¡ç†å‘˜è´¦æˆ·
SELECT '=== ä¿®æ”¹åçš„ç®¡ç†å‘˜è´¦æˆ· ===' as info;
SELECT id, username, role, created_at, updated_at FROM admins;

-- å®Œæˆé€šçŸ¥
DO $$ 
BEGIN
    RAISE NOTICE 'âœ… ç®¡ç†å‘˜è´¦æˆ·å¯†ç ä¿®æ”¹å®Œæˆï¼';
    RAISE NOTICE 'ğŸ”‘ è¯·ä½¿ç”¨æ–°çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•';
    RAISE NOTICE 'âš ï¸  è¯·ç¡®ä¿å¯†ç å“ˆå¸Œæ­£ç¡®ç”Ÿæˆ';
END $$;