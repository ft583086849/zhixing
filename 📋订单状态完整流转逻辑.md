# ЁЯУЛ шовхНХчК╢цАБхоМцХ┤ц╡Бш╜мщА╗ш╛Ся╝ИщЬАц▒ВцЦЗцбг4.3.1шКВя╝Й

## ЁЯФД шовхНХчК╢цАБц╡Бш╜мц╡БчиЛ

### ф╕АуАБцаЗхЗЖшовхНХчК╢цАБц╡БчиЛя╝Иф╗Шш┤╣шовхНХя╝Й
```
х╛Еф╗Шцм╛чбошод (pending_payment)
    тЖУ уАРчбошодф╗Шцм╛уАСцМЙщТо
х╖▓ф╗Шцм╛чбошод (confirmed_payment) 
    тЖУ уАРш┐ЫхЕещЕНч╜очбошодуАСцМЙщТо
х╛ЕщЕНч╜очбошод (pending_config)
    тЖУ уАРчбошодщЕНч╜охоМцИРуАСцМЙщТо  
х╖▓щЕНч╜очбошод (confirmed_config)
```

### ф║МуАБ7хдйхЕНш┤╣шовхНХчЙ╣цоКц╡БчиЛ
```
х╛Еф╗Шцм╛чбошод (pending_payment)
    тЖУ уАРш┐ЫхЕещЕНч╜очбошодуАСцМЙщТоя╝Иш╖│ш┐Зф╗Шцм╛чбошодя╝Й
х╛ЕщЕНч╜очбошод (pending_config)
    тЖУ уАРчбошодщЕНч╜охоМцИРуАСцМЙщТо
х╖▓щЕНч╜очбошод (confirmed_config)
```

## ЁЯУЭ щЬАц▒ВцЦЗцбгхОЯцЦЗя╝Ичмм541-570шбМя╝Й

### шовхНХчК╢цАБчбошодц╡БчиЛя╝Ъ
- х╛Еф╗Шцм╛чбошод тЖТ х╖▓ф╗Шцм╛чбошодя╝ИчобчРЖхСШчбошодф╗Шцм╛я╝Й
- х╖▓ф╗Шцм╛чбошод тЖТ х╛ЕщЕНч╜очбошодя╝ИчобчРЖхСШш┐ЫхЕещЕНч╜очбошодщШ╢цо╡я╝Й
- х╛ЕщЕНч╜очбошод тЖТ х╖▓щЕНч╜очбошодя╝ИчобчРЖхСШчбошодщЕНч╜охоМцИРя╝Й
- ф╗╗ф╜ХчК╢цАБ тЖТ х╖▓цЛТч╗Эя╝ИчобчРЖхСШцЛТч╗ЭшовхНХя╝Й

### шовхНХцУНф╜ЬцМЙщТошзДшМГя╝Ъ

#### 1. чбошодф╗Шцм╛цМЙщТо
- чК╢цАБя╝Ъх╛Еф╗Шцм╛чбошод тЖТ х╖▓ф╗Шцм╛чбошод
- цШ╛чд║цЭбф╗╢я╝ЪшовхНХчК╢цАБф╕║ `pending_payment`
- **чЙ╣цоКщА╗ш╛С**я╝Ъ7хдйхЕНш┤╣шовхНХш╖│ш┐Зф╗Шцм╛чбошодчОпшКВ

#### 2. ш┐ЫхЕещЕНч╜очбошодцМЙщТо  
- чК╢цАБя╝Ъх╖▓ф╗Шцм╛чбошод тЖТ х╛ЕщЕНч╜очбошод
- цШ╛чд║цЭбф╗╢я╝ЪшовхНХчК╢цАБф╕║ `confirmed_payment` цИЦ 7хдйхЕНш┤╣шовхНХчЪД `pending_payment`
- цМЙщТоцЦЗцЬмя╝Ъ`ш┐ЫхЕещЕНч╜очбошод`

#### 3. чбошодщЕНч╜охоМцИРцМЙщТо
- чК╢цАБя╝Ъх╛ЕщЕНч╜очбошод тЖТ х╖▓щЕНч╜очбошод
- цШ╛чд║цЭбф╗╢я╝ЪшовхНХчК╢цАБф╕║ `pending_config`

#### 4. цЛТч╗ЭшовхНХцМЙщТо
- чК╢цАБя╝Ъф╗╗ф╜ХчК╢цАБ тЖТ х╖▓цЛТч╗Э
- цШ╛чд║цЭбф╗╢я╝ЪцЙАцЬЙх╛ЕхдДчРЖчК╢цАБя╝И`pending_payment`, `confirmed_payment`, `pending_config`я╝Й
- щвЬшЙ▓я╝ЪхН▒щЩйшЙ▓я╝Ич║вшЙ▓я╝Й

#### 7хдйхЕНш┤╣шовхНХчЙ╣цоКхдДчРЖя╝Ъ
- ш╖│ш┐Зф╗Шцм╛чбошодцнещкд
- чЫ┤цОеф╗О `х╛Еф╗Шцм╛чбошод` цШ╛чд║ `ш┐ЫхЕещЕНч╜очбошод` хТМ `цЛТч╗ЭшовхНХ` цМЙщТо

## ЁЯФС хЕ│щФочК╢цАБхА╝хп╣х║Ф

| ф╕нцЦЗчК╢цАБ | цХ░цНох║УчК╢цАБхА╝ |
|---------|------------|
| х╛Еф╗Шцм╛чбошод | pending_payment |
| х╖▓ф╗Шцм╛чбошод | confirmed_payment |
| х╛ЕщЕНч╜очбошод | pending_config |
| х╖▓щЕНч╜очбошод | confirmed_config |
| х╖▓цЛТч╗Э | rejected |

## тЪая╕П щЗНшжБщА╗ш╛С

### щЕНч╜очбошодш┐Зц╗дя╝Иconfig_confirmedхнЧцо╡я╝Й
- цХ░цНош┐Зц╗дя╝Ъф╗ЕшобхЕещЕНч╜очбошодчЪДшовхНХ(config_confirmed: true)
- ф╕Ъч╗йч╗Яшобя╝Ъф║Мч║зщФАхФочЪДшовхНХцХ░уАБцА╗щЗСщвЭуАБф╜гщЗСцФ╢хЕеф╗ЕшобхЕещЕНч╜очбошодчЪДшовхНХ
- ч╗ЯшобшзДхИЩя╝ЪцЙАцЬЙч╗Яшобф╗ЕшобхЕещЕНч╜очбошодчЪДшовхНХя╝Иconfig_confirmed: trueя╝Й
- ш┐Зц╗дщА╗ш╛Ся╝ЪцЬкщЕНч╜очбошодчЪДшовхНХф╕НшобхЕешовхНХщЗПуАБщЗСщвЭуАБф╜гщЗСчнЙф╗╗ф╜Хч╗Яшоб

## ЁЯОп хоЮчО░шжБчВ╣

1. **чК╢цАБцОищАБщА╗ш╛С**я╝ЪцпПф╕кчК╢цАБхПШцЫ┤щГ╜цШпцЬЙх║ПчЪДя╝Мф╕НшГ╜ш╖│ш╖Г
2. **7хдйхЕНш┤╣чЙ╣цоКхдДчРЖ**я╝Ъх┐Ещб╗шпЖхИлduration='7days'чЪДшовхНХя╝Мш╖│ш┐Зф╗Шцм╛чбошод
3. **цМЙщТоцЦЗцЬмшзДшМГ**я╝Ъ
   - "чбошодф╗Шцм╛"я╝Иф╕НцШп"ф╗Шцм╛чбошод"я╝Й
   - "ш┐ЫхЕещЕНч╜очбошод"я╝Иф╕НцШп"х╝АхзЛщЕНч╜о"я╝Й
   - "чбошодщЕНч╜охоМцИР"я╝Иф╕НцШп"щЕНч╜очбошод"я╝Й
4. **цЛТч╗ЭшовхНХ**я╝ЪхЬиф╗╗ф╜Хх╛ЕхдДчРЖчК╢цАБщГ╜хПпф╗ецЛТч╗Э
